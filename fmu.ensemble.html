

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>fmu.ensemble package &mdash; fmu-ensemble 1.6.11 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=fd927af5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="fmu.ensemble.util package" href="fmu.ensemble.util.html" />
    <link rel="prev" title="fmu package" href="fmu.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            fmu-ensemble
              <img src="_static/equinor-logo2.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">Introduction to <em>FMU Ensemble</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts in fmu-ensemble</a></li>
<li class="toctree-l1"><a class="reference internal" href="advancedusage.html">Advanced usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API for fmu.ensemble</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="fmu.html">fmu package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="fmu.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">fmu.ensemble package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fmu.html#module-fmu">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">fmu-ensemble</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">API for fmu.ensemble</a></li>
          <li class="breadcrumb-item"><a href="fmu.html">fmu package</a></li>
      <li class="breadcrumb-item active">fmu.ensemble package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/fmu.ensemble.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="fmu-ensemble-package">
<h1>fmu.ensemble package<a class="headerlink" href="#fmu-ensemble-package" title="Link to this heading"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="fmu.ensemble.util.html">fmu.ensemble.util package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fmu.ensemble.util.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="fmu.ensemble.util.html#module-fmu.ensemble.util.dates">fmu.ensemble.util.dates module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fmu.ensemble.util.html#fmu.ensemble.util.dates.logger"><code class="docutils literal notranslate"><span class="pre">logger</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="fmu.ensemble.util.html#fmu.ensemble.util.dates.date_range"><code class="docutils literal notranslate"><span class="pre">date_range()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="fmu.ensemble.util.html#fmu.ensemble.util.dates.unionize_smry_dates"><code class="docutils literal notranslate"><span class="pre">unionize_smry_dates()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="fmu.ensemble.util.html#fmu.ensemble.util.dates.normalize_dates"><code class="docutils literal notranslate"><span class="pre">normalize_dates()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fmu.ensemble.util.html#module-fmu.ensemble.util.rates">fmu.ensemble.util.rates module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fmu.ensemble.util.html#fmu.ensemble.util.rates.compute_volumetric_rates"><code class="docutils literal notranslate"><span class="pre">compute_volumetric_rates()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="fmu.ensemble.util.html#fmu.ensemble.util.rates.cumcolumn_to_ratecolumn"><code class="docutils literal notranslate"><span class="pre">cumcolumn_to_ratecolumn()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fmu.ensemble.util.html#module-fmu.ensemble.util">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fmu.ensemble.util.html#fmu.ensemble.util.flatten"><code class="docutils literal notranslate"><span class="pre">flatten()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="fmu.ensemble.util.html#fmu.ensemble.util.parse_number"><code class="docutils literal notranslate"><span class="pre">parse_number()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="fmu.ensemble.util.html#fmu.ensemble.util.shortcut2path"><code class="docutils literal notranslate"><span class="pre">shortcut2path()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-fmu.ensemble.ensemble">
<span id="fmu-ensemble-ensemble-module"></span><h2>fmu.ensemble.ensemble module<a class="headerlink" href="#module-fmu.ensemble.ensemble" title="Link to this heading"></a></h2>
<p>Module containing the ScratchEnsemble class</p>
<dl class="py class">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmu.ensemble.ensemble.</span></span><span class="sig-name descname"><span class="pre">ScratchEnsemble</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ensemble_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">realidxregexp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runpathfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runpathfilter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autodiscovery</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manifest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An ensemble is a collection of Realizations.</p>
<p>Ensembles are initialized from path(s) pointing to
filesystem locations containing realizations.</p>
<p>Ensemble objects can be grouped into EnsembleSet.</p>
<p>Realizations in an ensembles are uniquely determined
by their realization index (integer).</p>
<p>Example for initialization:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">fmu</span><span class="w"> </span><span class="kn">import</span> <span class="n">ensemble</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ens</span> <span class="o">=</span> <span class="n">ensemble</span><span class="o">.</span><span class="n">ScratchEnsemble</span><span class="p">(</span><span class="s1">&#39;ensemblename&#39;</span><span class="p">,</span>
<span class="go">            &#39;/scratch/fmu/foobert/r089/casename/realization-*/iter-0&#39;)</span>
</pre></div>
</div>
<p>Upon initialization, only a subset of the files on
disk will be discovered. More files must be expliclitly
discovered and/or loaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ensemble_name</strong> (<em>str</em>) – Name identifier for the ensemble.
Optional to have it consistent with f.ex. iter-0 in the path.</p></li>
<li><p><strong>paths</strong> (<em>list/str</em>) – String or list of strings with wildcards
to file system. Absolute or relative paths.
If omitted, ensemble will be empty unless runpathfile
is used.</p></li>
<li><p><strong>realidxregexp</strong> (<em>str</em><em> or </em><em>regexp</em>) – used to deduce the realization index
from the file path. Default tailored for realization-X</p></li>
<li><p><strong>runpathfile</strong> (<em>str</em>) – Filename (absolute or relative) of an ERT
runpath file, consisting of four space separated text fields,
first column is realization index, second column is absolute
or relative path to a realization RUNPATH, third column is
the basename of the Eclipse simulation, relative to RUNPATH.
Fourth column is not used.</p></li>
<li><p><strong>runpathfilter</strong> (<em>str</em>) – If supplied, the only the runpaths in
the runpathfile which contains this string will be included
Use to select only a specific realization f.ex.</p></li>
<li><p><strong>autodiscovery</strong> (<em>boolean</em>) – True by default, means that the class
can try to autodiscover data in the realization. Turn
off to gain more fined tuned control.</p></li>
<li><p><strong>manifest</strong> – dict or filename to use for manifest. If filename,
it must be a yaml-file that will be parsed to a single dict.</p></li>
<li><p><strong>batch</strong> (<em>dict</em>) – List of functions (load_*) that
should be run at time of initialization for each realization.
Each element is a length 1 dictionary with the function name to run as
the key and each keys value should be the function arguments as a dict.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.keys" title="Link to this definition"></a></dt>
<dd><p>Return the union of all keys available in realizations.</p>
<p>Keys refer to the realization datastore of internalized
data. The datastore is a dictionary
of dataframes or dicts. Examples would be <cite>parameters.txt</cite>,
<cite>STATUS</cite>, <cite>share/results/tables/unsmry–monthly.csv</cite></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.add_realizations">
<span class="sig-name descname"><span class="pre">add_realizations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">realidxregexp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autodiscovery</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.add_realizations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.add_realizations" title="Link to this definition"></a></dt>
<dd><p>Utility function to add realizations to the ensemble.</p>
<p>Realizations are identified by their integer index.
If the realization index already exists, it will be replaced
when calling this function.</p>
<p>This function passes on initialization to ScratchRealization
and stores a reference to those generated objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paths</strong> (<em>list/str</em>) – String or list of strings with wildcards
to file system. Absolute or relative paths.</p></li>
<li><p><strong>autodiscovery</strong> (<em>boolean</em>) – whether files can be attempted
auto-discovered</p></li>
<li><p><strong>batch</strong> (<em>list</em>) – Batch commands sent to each realization.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of realizations successfully added.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>count (int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.add_from_runpathfile">
<span class="sig-name descname"><span class="pre">add_from_runpathfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runpathfilter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.add_from_runpathfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.add_from_runpathfile" title="Link to this definition"></a></dt>
<dd><p>Add realizations from a runpath file typically
coming from ERT.</p>
<p>The runpath file is a space separated table with the columns:</p>
<blockquote>
<div><ul class="simple">
<li><p>index - integer with realization index</p></li>
<li><p>runpath - string with the full path to the realization</p></li>
<li><p>eclbase - ECLBASE within the runpath (location of DATA file
minus the trailing ‘.DATA’)</p></li>
<li><p>iter - integer with the iteration number.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>runpath</strong> (<em>str</em>) – Filename, absolute or relative, or
a Pandas DataFrame parsed from a runpath file</p></li>
<li><p><strong>runpathfilter</strong> (<em>str</em>) – in order to be included. Default None which means not filter</p></li>
<li><p><strong>batch</strong> (<em>list</em>) – Batch commands to be sent to each realization.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of successfully added realizations.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.remove_data">
<span class="sig-name descname"><span class="pre">remove_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpaths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.remove_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.remove_data" title="Link to this definition"></a></dt>
<dd><p>Remove certain datatypes from each realizations
datastores. This modifies the underlying realization
objects, and is equivalent to</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">realization</span><span class="p">[</span><span class="n">localpath</span><span class="p">]</span>
</pre></div>
</div>
<p>on each realization in the ensemble.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>localpaths</strong> (<em>string</em>) – Full localpaths to
the data, or list of strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.remove_realizations">
<span class="sig-name descname"><span class="pre">remove_realizations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">realindices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.remove_realizations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.remove_realizations" title="Link to this definition"></a></dt>
<dd><p>Remove specific realizations from the ensemble</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>realindices</strong> (<em>int</em><em> or </em><em>list</em><em> of </em><em>ints</em>) – The realization
indices to be removed</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.to_virtual">
<span class="sig-name descname"><span class="pre">to_virtual</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.to_virtual"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.to_virtual" title="Link to this definition"></a></dt>
<dd><p>Convert the ScratchEnsemble to a VirtualEnsemble.</p>
<p>This means that all imported data in each realization is
aggregated and stored as dataframes in the returned
VirtualEnsemble</p>
<p>Unless specified, the VirtualEnsemble object wil
have the same ‘name’ as the ScratchEnsemble.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Name of the ensemble as virtualized.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.to_disk">
<span class="sig-name descname"><span class="pre">to_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filesystempath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dumpcsv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dumpparquet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.to_disk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.to_disk" title="Link to this definition"></a></dt>
<dd><p>Dump ensemble data to a directory on disk.</p>
<p>The ScratchEnsemble is first converted to a VirtualEnsemble,
which is then dumped to disk. This function is a
convenience wrapper for to_disk() in VirtualEnsemble.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.manifest">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">manifest</span></span><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.manifest" title="Link to this definition"></a></dt>
<dd><p>Get the manifest of the ensemble. The manifest is
nothing but a Python dictionary with unspecified content</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.parameters">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parameters</span></span><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.parameters" title="Link to this definition"></a></dt>
<dd><p>Build a dataframe of the information in each
realizations parameters.txt.</p>
<p>If no realizations have the file, an empty dataframe is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.load_scalar">
<span class="sig-name descname"><span class="pre">load_scalar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_numeric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.load_scalar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.load_scalar" title="Link to this definition"></a></dt>
<dd><p>Parse a single value from a file for each realization.</p>
<p>The value can be a string or a number.</p>
<p>Empty files are treated as existing, with an empty string as
the value, different from non-existing files.</p>
<p>Parsing is performed individually in each realization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> (<em>str</em>) – path to the text file, relative to each realization</p></li>
<li><p><strong>convert_numeric</strong> (<em>boolean</em>) – If set to True, assume that
the value is numerical, and treat strings as
errors.</p></li>
<li><p><strong>force_reread</strong> (<em>boolean</em>) – Force reread from file system. If
False, repeated calls to this function will
returned cached results.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Aggregated data over the ensemble. The column ‘REAL’
signifies the realization indices, and a column with the same
name as the localpath filename contains the data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.load_txt">
<span class="sig-name descname"><span class="pre">load_txt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_numeric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.load_txt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.load_txt" title="Link to this definition"></a></dt>
<dd><p>Parse a key-value text file from disk and internalize data</p>
<p>Parses text files on the form</p>
<blockquote>
<div><p>&lt;key&gt; &lt;value&gt;</p>
</div></blockquote>
<p>in each line.</p>
<p>Parsing is performed individually in each realization</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.load_csv">
<span class="sig-name descname"><span class="pre">load_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_numeric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.load_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.load_csv" title="Link to this definition"></a></dt>
<dd><p>For each realization, load a CSV.</p>
<p>The CSV file must be present in at least one realization.
The parsing is done individually for each realization, and
aggregation is on demand (through <cite>get_df()</cite>) and when
this function returns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> (<em>str</em>) – path to the text file, relative to each realization</p></li>
<li><p><strong>convert_numeric</strong> (<em>boolean</em>) – If set to True, numerical columns
will be searched for and have their dtype set
to integers or floats. If scalars, only numerical
data will be loaded.</p></li>
<li><p><strong>force_reread</strong> (<em>boolean</em>) – Force reread from file system. If
False, repeated calls to this function will
returned cached results.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>aggregation of the loaded CSV files. Column ‘REAL’
distuinguishes each realizations data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.load_file">
<span class="sig-name descname"><span class="pre">load_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fformat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_numeric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.load_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.load_file" title="Link to this definition"></a></dt>
<dd><p>Function for calling load_file() in every realization</p>
<p>This function may utilize multithreading.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> (<em>str</em>) – path to the text file, relative to each realization</p></li>
<li><p><strong>fformat</strong> (<em>str</em>) – string identifying the file format. Supports ‘txt’
and ‘csv’.</p></li>
<li><p><strong>convert_numeric</strong> (<em>boolean</em>) – If set to True, numerical columns
will be searched for and have their dtype set
to integers or floats. If scalars, only numerical
data will be loaded.</p></li>
<li><p><strong>force_reread</strong> (<em>boolean</em>) – Force reread from file system. If
False, repeated calls to this function will
returned cached results.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>with loaded data aggregated. Column ‘REAL’
distuinguishes each realizations data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.find_files">
<span class="sig-name descname"><span class="pre">find_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metayaml</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.find_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.find_files" title="Link to this definition"></a></dt>
<dd><p>Discover realization files. The files dataframes
for each realization will be updated.</p>
<p>Certain functionality requires up-front file discovery,
e.g. ensemble archiving and ensemble arithmetic.</p>
<p>CSV files for single use do not have to be discovered.</p>
<p>Files containing double-dashes ‘–’ indicate that the double
dashes separate different component with meaning in the
filename.  The components are extracted and put into
additional columns “COMP1”, “COMP2”, etc..
Filetype extension (after the last dot) will be removed
from the last component.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paths</strong> (<em>str</em><em> or </em><em>list</em><em> of </em><em>str</em>) – Filenames (will be globbed)
that are relative to the realization directory.</p></li>
<li><p><strong>metadata</strong> (<em>dict</em>) – metadata to assign for the discovered
files. The keys will be columns, and its values will be
assigned as column values for the discovered files.</p></li>
<li><p><strong>metayaml</strong> (<em>boolean</em>) – Additional possibility of adding metadata from
associated yaml files. Yaml files to be associated to
a specific discovered file can have an optional dot in
front, and must end in .yml, added to the discovered filename.
The yaml file will be loaded as a dict, and have its keys
flattened using the separator ‘–’. Flattened keys are
then used as column headers in the returned dataframe.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>with the slice of discovered files in each</dt><dd><p>realization, tagged with realization index in the column REAL.
Empty dataframe if no files found.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.get_smrykeys">
<span class="sig-name descname"><span class="pre">get_smrykeys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vector_match</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.get_smrykeys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.get_smrykeys" title="Link to this definition"></a></dt>
<dd><p>Return a union of all Eclipse Summary vector names
in all realizations (union).</p>
<p>If any requested key/pattern does not match anything, it is
silently ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>vector_match</strong> (<em>str</em><em> or </em><em>list</em><em> of </em><em>str</em>) – Wildcards for vectors
to obtain. If None, all vectors are returned</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Matched summary vectors. Empty list if no</dt><dd><p>summary file or no matched summary file vectors</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.get_smry_meta">
<span class="sig-name descname"><span class="pre">get_smry_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.get_smry_meta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.get_smry_meta" title="Link to this definition"></a></dt>
<dd><p>Provide metadata for summary data vectors.</p>
<p>A dictionary indexed by summary vector names is returned, and each
value is another dictionary with potentially the following metadata types:
* unit (string)
* is_total (bool)
* is_rate (bool)
* is_historical (bool)
* get_num (int) (only provided if not None)
* keyword (str)
* wgname (str or None)</p>
<p>The requested columns are asked for over the entire ensemble, and if necessary
all realizations will be checked to obtain the metadata for a specific key.
If metadata differ between realization, behaviour is <em>undefined</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>column_keys</strong> (<em>list</em><em> or </em><em>str</em>) – Column key wildcards.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dict of dict with metadata information</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.get_df">
<span class="sig-name descname"><span class="pre">get_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.get_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.get_df" title="Link to this definition"></a></dt>
<dd><p>Load data from each realization and aggregate (vertically)</p>
<p>Data must be already have been internalized using
a load_*() function.</p>
<p>Each row is tagged by the realization index in the column ‘REAL’</p>
<p>The localpath argument can be shortened, as it will be
looked up using the function shortcut2path()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> (<em>str</em>) – refers to the internalized name.</p></li>
<li><p><strong>merge</strong> (<em>list</em><em> or </em><em>str</em>) – refer to additional localpath which
will be merged into the dataframe for every realization</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Merged data from each realization.</dt><dd><p>Realizations with missing data are ignored.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.dataframe</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError if no data is found in no realizations.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.load_smry">
<span class="sig-name descname"><span class="pre">load_smry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raw'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stacked</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_eclsum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_restart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.load_smry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.load_smry" title="Link to this definition"></a></dt>
<dd><p>Fetch and internalize summary data from all realizations.</p>
<p>The fetched summary data will be cached/internalized by each
realization object, and can be retrieved through get_df().</p>
<p>The name of the internalized dataframe is “unsmry–” + a string
for the time index, ‘monthly’, ‘yearly’, ‘daily’ or ‘raw’.</p>
<p>Multiple calls to this function with differnent time indices
will lead to multiple storage of internalized dataframes, so
your ensemble can both contain a yearly and a monthly dataset.
There is no requirement for the column_keys to be consistent, but
care should be taken if they differ.</p>
<p>If you create a virtual ensemble of this ensemble object, all
internalized summary data will be kept, as opposed to if
you have retrieved it through get_smry()</p>
<p>Wraps around Realization.load_smry() which wraps around
resdata.summary.Summary.pandas_frame()</p>
<p>Beware that the default time_index for ensembles is ‘monthly’,
differing from realizations which use raw dates by default.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_index</strong> (<em>str</em><em> or </em><em>list</em><em> of </em><em>DateTime</em>) – If defaulted, the raw Eclipse report times will be used.
If a string is supplied, that string is attempted used
via get_smry_dates() in order to obtain a time index,
typically ‘monthly’, ‘daily’ or ‘yearly’.</p></li>
<li><p><strong>column_keys</strong> (<em>str</em><em> or </em><em>list</em><em> of </em><em>str</em>) – column key wildcards. Default is ‘*’
which will match all vectors in the Eclipse output.</p></li>
<li><p><strong>stacked</strong> (<em>boolean</em>) – determining the dataframe layout. If
true, the realization index is a column, and dates are repeated
for each realization in the DATES column.
If false, a dictionary of dataframes is returned, indexed
by vector name, and with realization index as columns.
This only works when time_index is the same for all
realizations. Not implemented yet!</p></li>
<li><p><strong>cache_eclsum</strong> (<em>boolean</em>) – Boolean for whether we should cache the EclSum
objects. Set to False if you cannot keep all EclSum files in
memory simultaneously</p></li>
<li><p><strong>start_date</strong> (<em>str</em><em> or </em><em>date</em>) – First date to include.
Dates prior to this date will be dropped, supplied
start_date will always be included. Overridden if time_index
is ‘first’ or ‘last’. If string, use ISO-format, YYYY-MM-DD.
ISO-format, YYYY-MM-DD.</p></li>
<li><p><strong>end_date</strong> (<em>str</em><em> or </em><em>date</em>) – Last date to be included.
Dates past this date will be dropped, supplied
end_date will always be included. Overridden if time_index
is ‘first’ or ‘last’. If string, use ISO-format, YYYY-MM-DD.</p></li>
<li><p><strong>include_restart</strong> (<em>boolean</em>) – boolean sent to resdata for whether restart
files should be traversed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Summary vectors for the ensemble, or
a dict of dataframes if stacked=False.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.get_volumetric_rates">
<span class="sig-name descname"><span class="pre">get_volumetric_rates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.get_volumetric_rates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.get_volumetric_rates" title="Link to this definition"></a></dt>
<dd><p>Compute volumetric rates from cumulative summary vectors</p>
<p>Column names that are not referring to cumulative summary
vectors are silently ignored.</p>
<p>A Dataframe is returned with volumetric rates, that is rate
values that can be summed up to the cumulative version. The
‘T’ in the column name is switched with ‘R’. If you ask for
FOPT, you will get FOPR in the returned dataframe.</p>
<p>Rates in the returned dataframe are valid <strong>forwards</strong> in time,
opposed to rates coming directly from the Eclipse simulator which
are valid backwards in time.</p>
<p>If time_unit is set, the rates will be scaled to represent
either daily, monthly or yearly rates. These will sum up to the
cumulative as long as you multiply with the correct number
of days, months or year between each consecutive date index.
Month lengths and leap years are correctly handled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_keys</strong> (<em>str</em><em> or </em><em>list</em><em> of </em><em>str</em>) – cumulative summary vectors</p></li>
<li><p><strong>time_index</strong> (<em>str</em><em> or </em><em>list</em><em> of </em><em>datetimes</em>)</p></li>
<li><p><strong>time_unit</strong> – str or None. If None, the rates returned will
be the difference in cumulative between each included
time step (where the time interval can vary arbitrarily)
If set to ‘days’, ‘months’ or ‘years’, the rates will
be scaled to represent a daily, monthly or yearly rate that
is compatible with the date index and the cumulative data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>analoguous to the dataframe returned by get_smry().
Empty dataframe if no data found.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.filter" title="Link to this definition"></a></dt>
<dd><p>Filter realizations or data within realizations</p>
<p>Calling this function can return a copy with fewer
realizations, or remove realizations from the current object.</p>
<p>Typical usage is to require that parameters.txt is present, or
that the OK file is present.</p>
<p>It is also possible to require a certain scalar to have a specific
value, for example filtering on a specific sensitivity case.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> (<em>string</em>) – pointing to the data for which the filtering
applies. If no other arguments, only realizations containing
this data key is kept.</p></li>
<li><p><strong>key</strong> (<em>str</em>) – A certain key within a realization dictionary that is
required to be present. If a value is also provided, this
key must be equal to this value</p></li>
<li><p><strong>value</strong> (<em>str</em><em>, </em><em>int</em><em> or </em><em>float</em>) – The value a certain key must equal. Floating
point comparisons are not robust.</p></li>
<li><p><strong>column</strong> (<em>str</em>) – Name of a column in tabular data. If columncontains is
not specified, this means that this column must be present</p></li>
<li><p><strong>columncontains</strong> (<em>str</em><em>, </em><em>int</em><em> or </em><em>float</em>) – A value that the specific column must include.</p></li>
<li><p><strong>inplace</strong> – Indicating if the current object should have its
realizations stripped, or if a copy should be returned.
Default true.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.drop">
<span class="sig-name descname"><span class="pre">drop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.drop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.drop" title="Link to this definition"></a></dt>
<dd><p>Delete elements from internalized data.</p>
<p>Shortcuts are allowed for localpath. If the data pointed to is
a DataFrame, you can delete columns, or rows containing certain
elements</p>
<p>If the data pointed to is a dictionary, keys can be deleted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> – string, path to internalized data. If no other options
are supplied, that dataset is deleted in its entirety</p></li>
<li><p><strong>column</strong> – string with a column name to drop. Only for dataframes</p></li>
<li><p><strong>columns</strong> – list of strings with column names to delete</p></li>
<li><p><strong>rowcontains</strong> – rows where one column contains this string will be
dropped. The comparison is on strings only, and all cells in
the dataframe is converted to strings for the comparison.
Thus it might work on dates, but be careful with numbers.</p></li>
<li><p><strong>key</strong> – string with a keyname in a dictionary. Will not work for
dataframes</p></li>
<li><p><strong>keys</strong> – list of strings of keys to delete from a dictionary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.process_batch">
<span class="sig-name descname"><span class="pre">process_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.process_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.process_batch" title="Link to this definition"></a></dt>
<dd><p>Process a list of functions to run/apply</p>
<p>This is equivalent to calling each function individually
but this enables more efficient concurrency. It is meant
to be used for functions that modifies the realization
object, not for functions that returns a dataframe already.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>batch</strong> (<em>list</em>) – Each list element is a dictionary with one key,
being a function names, value pr key is a dict with keyword
arguments to be supplied to each function.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>This ensemble object (self), for it</dt><dd><p>to be picked up by ProcessPoolExecutor and pickling.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#fmu.ensemble.ensemble.ScratchEnsemble" title="fmu.ensemble.ensemble.ScratchEnsemble">ScratchEnsemble</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.apply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.apply" title="Link to this definition"></a></dt>
<dd><p>Callback functionalty, apply a function to every realization</p>
<p>The supplied function handle will be handed over to
each underlying realization object. The function supplied
must return a Pandas DataFrame. The function can obtain
the realization object in the kwargs dictionary through
the key ‘realization’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>callback</strong> – function handle</p></li>
<li><p><strong>kwargs</strong> – dictionary where ‘realization’ and
‘localpath’ is reserved, will be forwarded
to the callbacked function</p></li>
<li><p><strong>localpath</strong> – str, optional if the data is to be internalized
in each realization object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame, aggregated result of the supplied function
on each realization.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.get_smry_dates">
<span class="sig-name descname"><span class="pre">get_smry_dates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monthly'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_eclsum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_restart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.get_smry_dates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.get_smry_dates" title="Link to this definition"></a></dt>
<dd><p>Return list of datetimes for an ensemble according to frequency</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>freq</strong> – <dl class="simple">
<dt>string denoting requested frequency for</dt><dd><p>the returned list of datetime. ‘report’ or ‘raw’ will
yield the sorted union of all valid timesteps for
all realizations. Other valid options are
‘daily’, ‘monthly’ and ‘yearly’.
‘first’ will give out the first date (minimum).
‘last’ will give out the last date (maximum).</p>
</dd>
<dt>normalize:  Whether to normalize backwards at the start</dt><dd><p>and forwards at the end to ensure the raw
date range is covered.</p>
</dd>
<dt>start_date: str or date with first date to include.</dt><dd><p>Dates prior to this date will be dropped, supplied
start_date will always be included. Overrides
normalized dates. Overridden if freq is ‘first’ or ‘last’.
If string, use ISO-format, YYYY-MM-DD.</p>
</dd>
<dt>end_date: str or date with last date to be included.</dt><dd><p>Dates past this date will be dropped, supplied
end_date will always be included. Overrides
normalized dates. Overridden if freq is ‘first’ or ‘last’.
If string, use ISO-format, YYYY-MM-DD.</p>
</dd>
<dt>include_restart: boolean sent to resdata for whether restart</dt><dd><p>files should be traversed.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of datetimes. Empty list if no data found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.get_smry_stats">
<span class="sig-name descname"><span class="pre">get_smry_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monthly'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_eclsum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.get_smry_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.get_smry_stats" title="Link to this definition"></a></dt>
<dd><p>Function to extract the ensemble statistics (Mean, Min, Max, P10, P90)
for a set of simulation summary vectors (column key).</p>
<p>Compared to the agg() function, this function only works on summary
data (time series), and will only operate on actually requested data,
independent of what is internalized. It accesses the summary files
directly and can thus obtain data at any time frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_keys</strong> – list of column key wildcards</p></li>
<li><p><strong>time_index</strong> – list of DateTime if interpolation is wanted
default is None, which returns the raw Eclipse report times
If a string is supplied, that string is attempted used
via get_smry_dates() in order to obtain a time index.</p></li>
<li><p><strong>quantiles</strong> – list of ints between 0 and 100 for which quantiles
to compute. Quantiles refer to scientific standard, which
is opposite to the oil industry convention.
Ask for p10 if you need the oil industry p90.</p></li>
<li><p><strong>cache_eclsum</strong> – boolean for whether to keep the loaded EclSum
object in memory after data has been loaded.</p></li>
<li><p><strong>start_date</strong> – str or date with first date to include.
Dates prior to this date will be dropped, supplied
start_date will always be included. Overridden if time_index
is ‘first’ or ‘last’. If string, use ISO-format, YYYY-MM-DD.</p></li>
<li><p><strong>end_date</strong> – str or date with last date to be included.
Dates past this date will be dropped, supplied
end_date will always be included. Overridden if time_index
is ‘first’ or ‘last’. If string, use ISO-format, YYYY-MM-DD.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A MultiIndex dataframe. Outer index is ‘minimum’, ‘maximum’,
‘mean’, ‘p10’, ‘p90’, inner index are the dates. Column names
are the different vectors. Quantiles refer to the scientific
standard, opposite to the oil industry convention.
If quantiles are explicitly supplied, the ‘pXX’
strings in the outer index are changed accordingly. If no
data is found, return empty DataFrame.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.get_wellnames">
<span class="sig-name descname"><span class="pre">get_wellnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">well_match</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.get_wellnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.get_wellnames" title="Link to this definition"></a></dt>
<dd><p>Return a union of all Eclipse Summary well names
in all realizations (union). In addition, can return a list
based on matches to an input string pattern.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>well_match</strong> – <cite>Optional</cite>. String (or list of strings)
with wildcard filter. If None, all wells are returned</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of strings with eclipse well names. Empty list if no
summary file or no matched well names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.get_groupnames">
<span class="sig-name descname"><span class="pre">get_groupnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_match</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.get_groupnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.get_groupnames" title="Link to this definition"></a></dt>
<dd><p>Return a union of all Eclipse Summary group names
in all realizations (union).</p>
<p>Optionally, the well names can be filtered.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>well_match</strong> – <cite>Optional</cite>. String (or list of strings)
with wildcard filter (globbing). If None, all
wells are returned. Empty string does not match anything.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of strings with eclipse well names. Empty list if no
summary file or no matched well names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.agg">
<span class="sig-name descname"><span class="pre">agg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aggregation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keylist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excludekeys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.agg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.agg" title="Link to this definition"></a></dt>
<dd><p>Aggregate the ensemble data into one VirtualRealization</p>
<p>All data will be attempted aggregated. String data will typically
be dropped in the result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aggregation</strong> – string, supported modes are
‘mean’, ‘median’, ‘p10’, ‘p90’, ‘min’,
‘max’, ‘std, ‘var’, ‘pXX’ where X is a number</p></li>
<li><p><strong>keylist</strong> – list of strings, indicating which keys
in the internal datastore to include. If list is empty
(default), all data will be attempted included.</p></li>
<li><p><strong>excludekeys</strong> – list of strings that should be excluded if
keylist is empty, otherwise ignored</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>VirtualRealization. Its name will include the aggregation operator</p>
</dd>
</dl>
<p>WARNING: This code is duplicated in virtualensemble.py</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.files">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">files</span></span><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.files" title="Link to this definition"></a></dt>
<dd><p>Return a concatenation of files in each realization</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.name">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.name" title="Link to this definition"></a></dt>
<dd><p>The ensemble name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.get_realindices">
<span class="sig-name descname"><span class="pre">get_realindices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.get_realindices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.get_realindices" title="Link to this definition"></a></dt>
<dd><p>Return the integer indices for realizations in this ensemble</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of integers</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.get_smry">
<span class="sig-name descname"><span class="pre">get_smry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_eclsum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_restart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.get_smry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.get_smry" title="Link to this definition"></a></dt>
<dd><p>Aggregates summary data from all realizations.</p>
<p>Wraps around Realization.get_smry() which wraps around
resdata.summary.Summary.pandas_frame()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_index</strong> – list of DateTime if interpolation is wanted
default is None, which returns the raw Eclipse report times
If a string with an ISO-8601 date is supplied, that date
is used directly, otherwise the string is assumed to indicate
a wanted frequencey for dates, daily, weekly, monthly, yearly,
that will be send to get_smry_dates()</p></li>
<li><p><strong>column_keys</strong> – list of column key wildcards</p></li>
<li><p><strong>cache_eclsum</strong> – boolean for whether to cache the EclSum
objects. Defaults to True. Set to False if
not enough memory to keep all summary files in memory.</p></li>
<li><p><strong>start_date</strong> – str or date with first date to include.
Dates prior to this date will be dropped, supplied
start_date will always be included. Overridden if time_index
is ‘first’ or ‘last’.</p></li>
<li><p><strong>end_date</strong> – str or date with last date to be included.
Dates past this date will be dropped, supplied
end_date will always be included. Overridden if time_index
is ‘first’ or ‘last’.</p></li>
<li><p><strong>include_restart</strong> – boolean sent to resdata for whether restart
files should be traversed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFame of summary vectors for the ensemble. The column
REAL with integers is added to distinguish realizations. If
no realizations, empty DataFrame is returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.get_eclgrid">
<span class="sig-name descname"><span class="pre">get_eclgrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">props</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">agg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.get_eclgrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.get_eclgrid" title="Link to this definition"></a></dt>
<dd><p>Returns the grid (i,j,k) and (x,y), and any requested init
and/or unrst property. The values are aggregated over the
ensemble (mean/ std currently supported).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>props</strong> – list of column key wildcards</p></li>
<li><p><strong>report</strong> – int. for unrst props only. Report step for given date.
Use the function get_unrst_report_dates to get an overview
of the report steps availible.</p></li>
<li><p><strong>agg</strong> – String. “mean” or “std”.</p></li>
<li><p><strong>active_only</strong> – bool. True if activate cells only.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary. Index by grid attribute, and contains a list
corresponding to a set of values for each grid cells.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.global_active">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">global_active</span></span><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.global_active" title="Link to this definition"></a></dt>
<dd><p>An ResdataKW with, for each cell,
the number of realizations where the cell is active.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>returns</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.global_size">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">global_size</span></span><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.global_size" title="Link to this definition"></a></dt>
<dd><p>global size of the realizations in the Ensemble.  see
<code class="xref py py-func docutils literal notranslate"><span class="pre">fmu_postprocessing.modelling.Realization.global_size()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>returns</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.init_keys">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">init_keys</span></span><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.init_keys" title="Link to this definition"></a></dt>
<dd><p>Return all keys available in the Eclipse INIT file</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.unrst_keys">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unrst_keys</span></span><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.unrst_keys" title="Link to this definition"></a></dt>
<dd><p>Return keys availaible in the Eclipse UNRST file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.get_unrst_report_dates">
<span class="sig-name descname"><span class="pre">get_unrst_report_dates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.get_unrst_report_dates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.get_unrst_report_dates" title="Link to this definition"></a></dt>
<dd><p>Returns UNRST report step and the corresponding date</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.get_init">
<span class="sig-name descname"><span class="pre">get_init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">agg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.get_init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.get_init" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prop</strong> – A time independent property,</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with <code class="docutils literal notranslate"><span class="pre">mean</span></code> or <code class="docutils literal notranslate"><span class="pre">std_dev</span></code> as keys,
and corresponding values for given property as values.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If prop is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemble.ScratchEnsemble.get_unrst">
<span class="sig-name descname"><span class="pre">get_unrst</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">agg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemble.html#ScratchEnsemble.get_unrst"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemble.ScratchEnsemble.get_unrst" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prop</strong> – A time dependent property, see
<cite>fmu_postprocessing.modelling.SimulationGrid.TIME_DEPENDENT</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with <code class="docutils literal notranslate"><span class="pre">mean</span></code> and <code class="docutils literal notranslate"><span class="pre">std_dev</span></code> as keys,
and corresponding values for given property as values.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If prop is not in <cite>TIME_DEPENDENT</cite>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-fmu.ensemble.ensemblecombination">
<span id="fmu-ensemble-ensemblecombination-module"></span><h2>fmu.ensemble.ensemblecombination module<a class="headerlink" href="#module-fmu.ensemble.ensemblecombination" title="Link to this heading"></a></h2>
<p>Module for handling linear combinations of ensembles</p>
<dl class="py class">
<dt class="sig sig-object py" id="fmu.ensemble.ensemblecombination.EnsembleCombination">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmu.ensemble.ensemblecombination.</span></span><span class="sig-name descname"><span class="pre">EnsembleCombination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemblecombination.html#EnsembleCombination"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemblecombination.EnsembleCombination" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The class is used to perform linear operations on ensembles.</p>
<p>When instantiated, the linear combination will not actually be
computed before the results are actually asked for - lazy
evaluation.</p>
<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemblecombination.EnsembleCombination.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemblecombination.html#EnsembleCombination.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemblecombination.EnsembleCombination.keys" title="Link to this definition"></a></dt>
<dd><p>Return the intersection of all keys available in reference
ensemble(combination) and the other</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemblecombination.EnsembleCombination.get_df">
<span class="sig-name descname"><span class="pre">get_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemblecombination.html#EnsembleCombination.get_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemblecombination.EnsembleCombination.get_df" title="Link to this definition"></a></dt>
<dd><p>Obtain given data from the ensemblecombination,
doing the actual computation of ensemble on the fly.</p>
<p>Warning: In order to add dataframes together with meaning,
using pandas.add, the index of the frames must be correctly set,
and this can be tricky for some datatypes (f.ex. volumetrics table
where you want to add together volumes for correct zone
and fault segment).</p>
<p>If you have the columns “REAL”, “DATE”, “ZONE” and/or “REGION”, it
will be regarded as an index column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> (<em>str</em>) – refers to the internalized name of the
data wanted in each ensemble.</p></li>
<li><p><strong>merge</strong> (<em>list</em><em> or </em><em>str</em>) – Optional data to be merged in for the data
The merge will happen as deep as possible (in realization
objects in case of ScratchEnsembles), and all ensemble
combination computations happen after merging. Be careful
with index guessing and merged data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemblecombination.EnsembleCombination.to_virtual">
<span class="sig-name descname"><span class="pre">to_virtual</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyfilter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemblecombination.html#EnsembleCombination.to_virtual"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemblecombination.EnsembleCombination.to_virtual" title="Link to this definition"></a></dt>
<dd><p>Evaluate the current linear combination and return as
a virtual ensemble.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>keyfilter</strong> (<em>list</em><em> or </em><em>str</em>) – If supplied, only keys matching wildcards
in this argument will be included. Use this for speed reasons
when only some data is needed. Default is to include everything.
If you supply “unsmry”, it will match every key that
includes this string by prepending and appending ‘*’ to your pattern</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>VirtualEnsemble</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemblecombination.EnsembleCombination.get_smry_dates">
<span class="sig-name descname"><span class="pre">get_smry_dates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monthly'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemblecombination.html#EnsembleCombination.get_smry_dates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemblecombination.EnsembleCombination.get_smry_dates" title="Link to this definition"></a></dt>
<dd><p>Create a union of dates available in the
involved ensembles</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemblecombination.EnsembleCombination.get_smry">
<span class="sig-name descname"><span class="pre">get_smry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemblecombination.html#EnsembleCombination.get_smry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemblecombination.EnsembleCombination.get_smry" title="Link to this definition"></a></dt>
<dd><p>Loads the Eclipse summary data directly from the underlying
ensemble data. The ensembles can be ScratchEnsemble or
VirtualEnsemble, if scratch it will access binary
summary files directly, if virtual ensembles, summary
data must have been loaded earlier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_keys</strong> (<em>str</em><em> or </em><em>list</em>) – column key wildcards. Default
is ‘*’, which will match all vectors in the Eclipse
output.</p></li>
<li><p><strong>time_index</strong> (<em>str</em><em> or </em><em>list</em><em> of </em><em>DateTime</em>) – time_index mnemonic or
a list of explicit datetime at which the summary data
is requested (interpolated or extrapolated)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>pd.DataFrame. Indexed by rows, has at least the columns REAL</dt><dd><p>and DATE if not empty.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemblecombination.EnsembleCombination.get_smry_stats">
<span class="sig-name descname"><span class="pre">get_smry_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monthly'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemblecombination.html#EnsembleCombination.get_smry_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemblecombination.EnsembleCombination.get_smry_stats" title="Link to this definition"></a></dt>
<dd><p>Function to extract the ensemble statistics (Mean, Min, Max, P10, P90)
for a set of simulation summary vectors (column key).</p>
<p>Compared to the agg() function, this function only works on summary
data (time series), and will only operate on actually requested data,
independent of what is internalized. It accesses the summary files
directly and can thus obtain data at any time frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_keys</strong> – list of column key wildcards</p></li>
<li><p><strong>time_index</strong> – list of DateTime if interpolation is wanted
default is None, which returns the raw Eclipse report times
If a string is supplied, that string is attempted used
via get_smry_dates() in order to obtain a time index.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A MultiLevel dataframe. Outer index is ‘minimum’, ‘maximum’,
‘mean’, ‘p10’, ‘p90’, inner index are the dates. Column names
are the different vectors. Quantiles follow the scientific
standard, opposite to the oil industry standard.</p>
</dd>
</dl>
<p>TODO: add warning message when failed realizations are removed</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemblecombination.EnsembleCombination.get_smry_meta">
<span class="sig-name descname"><span class="pre">get_smry_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemblecombination.html#EnsembleCombination.get_smry_meta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemblecombination.EnsembleCombination.get_smry_meta" title="Link to this definition"></a></dt>
<dd><p>Provide metadata for summary data vectors.</p>
<p>A dictionary indexed by summary vector names is returned, and each
value is another dictionary with potentially the metadata types:
* unit (string)
* is_total (bool)
* is_rate (bool)
* is_historical (bool)
* get_num (int) (only provided if not None)
* keyword (str)
* wgname (str or None)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>column_keys</strong> – List or str of column key wildcards</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemblecombination.EnsembleCombination.agg">
<span class="sig-name descname"><span class="pre">agg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aggregation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keylist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excludekeys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemblecombination.html#EnsembleCombination.agg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemblecombination.EnsembleCombination.agg" title="Link to this definition"></a></dt>
<dd><p>Aggregator, this is a wrapper that will
call .to_virtual() on your behalf and call the corresponding
agg() in VirtualEnsemble.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemblecombination.EnsembleCombination.get_volumetric_rates">
<span class="sig-name descname"><span class="pre">get_volumetric_rates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monthly'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemblecombination.html#EnsembleCombination.get_volumetric_rates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemblecombination.EnsembleCombination.get_volumetric_rates" title="Link to this definition"></a></dt>
<dd><p>Compute volumetric rates from cumulative summary
vectors.</p>
<p>Column names that are not referring to cumulative summary
vectors are silently ignored.</p>
<p>A Dataframe is returned with volumetric rates, that is rate
values that can be summed up to the cumulative version. The
‘T’ in the column name is switched with ‘R’. If you ask for
FOPT, you will get FOPR in the returned dataframe.</p>
<p>Rates in the returned dataframe are valid <strong>forwards</strong> in time,
opposed to rates coming directly from the Eclipse simulator which
are valid backwards in time.</p>
<p>If time_unit is set, the rates will be scaled to represent
either daily, monthly or yearly rates. These will sum up to the
cumulative as long as you multiply with the correct number
of days, months or year between each consecutive date index.
Month lengths and leap years are correctly handled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_keys</strong> – str or list of strings, cumulative summary vectors</p></li>
<li><p><strong>time_index</strong> – str or list of datetimes</p></li>
<li><p><strong>time_unit</strong> – str or None. If None, the rates returned will
be the difference in cumulative between each included
time step (where the time interval can vary arbitrarily)
If set to ‘days’, ‘months’ or ‘years’, the rates will
be scaled to represent a daily, monthly or yearly rate that
is compatible with the date index and the cumulative data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.ensemblecombination.EnsembleCombination.parameters">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parameters</span></span><a class="headerlink" href="#fmu.ensemble.ensemblecombination.EnsembleCombination.parameters" title="Link to this definition"></a></dt>
<dd><p>Return parameters from the ensemble as a class property</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensemblecombination.EnsembleCombination.get_realindices">
<span class="sig-name descname"><span class="pre">get_realindices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensemblecombination.html#EnsembleCombination.get_realindices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensemblecombination.EnsembleCombination.get_realindices" title="Link to this definition"></a></dt>
<dd><p>Return the integer indices for realizations in this ensemble</p>
<p>There is no guarantee that all realizations returned here
will be valid for all datatypes after computation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of integers</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-fmu.ensemble.ensembleset">
<span id="fmu-ensemble-ensembleset-module"></span><h2>fmu.ensemble.ensembleset module<a class="headerlink" href="#module-fmu.ensemble.ensembleset" title="Link to this heading"></a></h2>
<p>Module for book-keeping and aggregation of ensembles</p>
<dl class="py class">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmu.ensemble.ensembleset.</span></span><span class="sig-name descname"><span class="pre">EnsembleSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensembles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frompath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runpathfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">realidxregexp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterregexp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batchregexp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autodiscovery</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An ensemble set is any collection of ensemble objects</p>
<p>Ensemble objects are ScratchEnsembles or VirtualEnsembles.</p>
<p>There is support for initializing from a filstructure with both
iterations and batches, but the concept of iterations and batches
are not kept in an EnsembleSet, there each ensemble is uniquely
identified by the ensemble name. To keep the iteration (and batch)
concept, that must be embedded into the ensemble name.</p>
<p>The init method will make an ensemble set, either as empty, or from a
list of already initialized ensembles, or directly from the
filesystem, or from an ERT runpath file. Only one of these
initialization modes can be used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Chosen name for the ensemble set. Can be used if aggregated at a
higher level.</p></li>
<li><p><strong>ensembles</strong> – list of Ensemble objects. Can be omitted.</p></li>
<li><p><strong>frompath</strong> – string or list of strings with filesystem path.
Will be globbed by default. If no realizations or iterations
are detected after globbing, the standard glob
‘realization-<em>/iter-</em>/ will be used.</p></li>
<li><p><strong>runpathfile</strong> – string with path to an ert runpath file which will
be used to lookup realizations and iterations.</p></li>
<li><p><strong>realidxregexp</strong> – regular expression object that will be used to
determine the realization index (must be integer) from a path
component (split by /). The default fits realization-*</p></li>
<li><p><strong>iterregexp</strong> – similar to realidxregexp, and result will always be
treated as a string.</p></li>
<li><p><strong>batchregexp</strong> – similar ot iterregexp, for future support of an extra
level similar to iterations</p></li>
<li><p><strong>autodiscovery</strong> – boolean, sent to initializing Realization objects,
instructing them on whether certain files should be
auto-discovered.</p></li>
<li><p><strong>batch</strong> (<em>dict</em>) – List of functions (load_*) that
should be run at time of initialization for each realization.
Each element is a length 1 dictionary with the function name to run as
the key and each keys value should be the function arguments as a dict.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.name">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.name" title="Link to this definition"></a></dt>
<dd><p>Return the name of the ensembleset,
as initialized</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.ensemblenames">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ensemblenames</span></span><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.ensemblenames" title="Link to this definition"></a></dt>
<dd><p>Return a list of named ensembles in this set</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.keys" title="Link to this definition"></a></dt>
<dd><p>Return the union of all keys available in the ensembles.</p>
<p>Keys refer to the realization datastore, a dictionary
of dataframes or dicts.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.add_ensembles_frompath">
<span class="sig-name descname"><span class="pre">add_ensembles_frompath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">realidxregexp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterregexp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batchregexp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autodiscovery</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.add_ensembles_frompath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.add_ensembles_frompath" title="Link to this definition"></a></dt>
<dd><p>Convenience function for adding multiple ensembles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paths</strong> – str or list of strings with path to the
directory containing the realization-<em>/iter-</em>
structure</p></li>
<li><p><strong>realidxregexp</strong> – Supply a regexp that can extract the realization
index as an <em>integer</em> from path components.
The expression will be tested on individual path
components from right to left.</p></li>
<li><p><strong>iterregexp</strong> – Similar to real_regexp, but is allowed to
match strings.</p></li>
<li><p><strong>batchregexp</strong> – Similar to real_regexp, but is allowed to
match strings.</p></li>
<li><p><strong>autodiscovery</strong> – boolean, sent to initializing Realization objects,
instructing them on whether certain files should be
auto-discovered.</p></li>
<li><p><strong>batch</strong> (<em>dict</em>) – List of functions (load_*) that
should be run at time of initialization for each realization.
Each element is a length 1 dictionary with the function name to run as
the key and each keys value should be the function arguments as a dict.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.add_ensembles_fromrunpath">
<span class="sig-name descname"><span class="pre">add_ensembles_fromrunpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runpathfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.add_ensembles_fromrunpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.add_ensembles_fromrunpath" title="Link to this definition"></a></dt>
<dd><p>Add one or many ensembles from an ERT runpath file.</p>
<p>autodiscovery is not an argument, it is by default set to False
for runpath-files, since the location of the UNSMRY-file is given in
the runpath file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.add_ensemble">
<span class="sig-name descname"><span class="pre">add_ensemble</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ensembleobject</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.add_ensemble"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.add_ensemble" title="Link to this definition"></a></dt>
<dd><p>Add a single ensemble to the ensemble set</p>
<p>Name is taken from the ensembleobject.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.parameters">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parameters</span></span><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.parameters" title="Link to this definition"></a></dt>
<dd><p>Build a dataframe of the information in each
realizations parameters.txt.</p>
<p>If no realizations have the file, an empty dataframe is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.load_scalar">
<span class="sig-name descname"><span class="pre">load_scalar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_numeric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.load_scalar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.load_scalar" title="Link to this definition"></a></dt>
<dd><p>Parse a single value from a file</p>
<p>The value can be a string or a number. Empty files
are treated as existing, with an empty string as
the value, different from non-existing files.</p>
<p>Parsing is performed individually in each ensemble
and realization</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.load_txt">
<span class="sig-name descname"><span class="pre">load_txt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_numeric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.load_txt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.load_txt" title="Link to this definition"></a></dt>
<dd><p>Parse and internalize a txt-file from disk</p>
<p>Parses text files on the form
&lt;key&gt; &lt;value&gt;
in each line.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.load_csv">
<span class="sig-name descname"><span class="pre">load_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_numeric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.load_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.load_csv" title="Link to this definition"></a></dt>
<dd><p>Parse and internalize a CSV file from disk</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.load_file">
<span class="sig-name descname"><span class="pre">load_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fformat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_numeric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.load_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.load_file" title="Link to this definition"></a></dt>
<dd><p>Internal function for load_*()</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.get_df">
<span class="sig-name descname"><span class="pre">get_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.get_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.get_df" title="Link to this definition"></a></dt>
<dd><p>Collect contents of dataframes from each ensemble</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> (<em>str</em>) – path to the text file, relative to each realization</p></li>
<li><p><strong>merge</strong> (<em>list</em><em> or </em><em>str</em>) – refer to additional localpath(s) which will
be merged into the dataframe for every ensemble/realization.
Merging happens before aggregation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.drop">
<span class="sig-name descname"><span class="pre">drop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.drop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.drop" title="Link to this definition"></a></dt>
<dd><p>Delete elements from internalized data.</p>
<p>Shortcuts are allowed for localpath. If the data pointed to is
a DataFrame, you can delete columns, or rows containing certain
elements</p>
<p>If the data pointed to is a dictionary, keys can be deleted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> – string, path to internalized data. If no other options
are supplied, that dataset is deleted in its entirety</p></li>
<li><p><strong>column</strong> – string with a column name to drop. Only for dataframes</p></li>
<li><p><strong>columns</strong> – list of strings with column names to delete</p></li>
<li><p><strong>rowcontains</strong> – rows where one column contains this string will be
dropped. The comparison is on strings only, and all cells in
the dataframe is converted to strings for the comparison.
Thus it might work on dates, but be careful with numbers.</p></li>
<li><p><strong>key</strong> – string with a keyname in a dictionary. Will not work for
dataframes</p></li>
<li><p><strong>keys</strong> – list of strings of keys to delete from a dictionary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.remove_data">
<span class="sig-name descname"><span class="pre">remove_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpaths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.remove_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.remove_data" title="Link to this definition"></a></dt>
<dd><p>Remove certain datatypes from each ensembles/realizations
datastores. This modifies the underlying realization
objects, and is equivalent to</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">realization</span><span class="p">[</span><span class="n">localpath</span><span class="p">]</span>
</pre></div>
</div>
<p>on each realization in each ensemble.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>localpaths</strong> (<em>string</em>) – Full localpath to
the data, or list of strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.process_batch">
<span class="sig-name descname"><span class="pre">process_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.process_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.process_batch" title="Link to this definition"></a></dt>
<dd><p>Process a list of functions to run/apply</p>
<p>This is equivalent to calling each function individually
but this enables more efficient concurrency. It is meant
to be used for functions that modifies the realization
object, not for functions that returns a dataframe already.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>batch</strong> (<em>list</em>) – Each list element is a dictionary with one key,
being a function names, value pr key is a dict with keyword
arguments to be supplied to each function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.apply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.apply" title="Link to this definition"></a></dt>
<dd><p>Callback functionalty, apply a function to every realization</p>
<p>The supplied function handle will be handed over to each
underlying ScratchEnsemble object, which in turn will hand it
over to its realization objects. The function supplied must
return a Pandas DataFrame. The function can obtain the
realization object in the kwargs dictionary through the key
‘realization’.</p>
<p>Any VirtualEnsembles are ignored. Operations on dataframes in
VirtualEnsembles can be done using the apply() functionality
in pd.DataFrame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>callback</strong> – function handle</p></li>
<li><p><strong>kwargs</strong> – dictionary where ‘realization’ and
‘localpath’ is reserved, will be forwarded
to the callbacked function</p></li>
<li><p><strong>localpath</strong> – str, optional if the data is to be internalized
in each realization object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>pd.DataFrame, aggregated result of the supplied function</dt><dd><p>on each realization.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.shortcut2path">
<span class="sig-name descname"><span class="pre">shortcut2path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shortpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.shortcut2path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.shortcut2path" title="Link to this definition"></a></dt>
<dd><p>Convert short pathnames to fully qualified pathnames
within the datastore.</p>
<dl class="simple">
<dt>If the fully qualified localpath is</dt><dd><p>‘share/results/volumes/simulator_volume_fipnum.csv’</p>
</dd>
<dt>then you can also access this with these alternatives:</dt><dd><ul class="simple">
<li><p>simulator_volume_fipnum</p></li>
<li><p>simulator_volume_fipnum.csv</p></li>
<li><p>share/results/volumes/simulator_volume_fipnum</p></li>
</ul>
</dd>
</dl>
<p>but only as long as there is no ambiguity. In case
of ambiguity, the shortpath will be returned.</p>
<p>CODE DUPLICATION from realization.py</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.get_csv_deprecated">
<span class="sig-name descname"><span class="pre">get_csv_deprecated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.get_csv_deprecated"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.get_csv_deprecated" title="Link to this definition"></a></dt>
<dd><p>Load CSV data from each realization in each
ensemble, and aggregate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> – string, filename local to realization</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Merged CSV from each realization.</dt><dd><p>Realizations with missing data are ignored.
Empty dataframe if no data is found</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.load_smry">
<span class="sig-name descname"><span class="pre">load_smry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raw'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_eclsum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.load_smry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.load_smry" title="Link to this definition"></a></dt>
<dd><p>Fetch summary data from all ensembles</p>
<p>Wraps around Ensemble.load_smry() which wraps
Realization.load_smry(), which wraps resdata.summary.Summary.pandas_frame()</p>
<p>The time index is determined at realization level. If you
ask for ‘monthly’, you will from each realization get its
months. At ensemble or ensembleset-level, the number of
monthly report dates between realization can vary</p>
<p>The pr. realization results will be cached by each
realization object, and can be retrieved through get_df().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_index</strong> – list of DateTime if interpolation is wanted
default is raw, which returns the raw Eclipse report times
If a string is supplied, that string is attempted used
via get_smry_dates() in order to obtain a time index.</p></li>
<li><p><strong>column_keys</strong> – list of column key wildcards</p></li>
<li><p><strong>cache_eclsum</strong> – Boolean for whether we should cache the Summary
objects. Set to False if you cannot keep all Summary files in
memory simultaneously</p></li>
<li><p><strong>start_date</strong> – str or date with first date to include.
Dates prior to this date will be dropped, supplied
start_date will always be included. Overridden if time_index
is ‘first’ or ‘last’.</p></li>
<li><p><strong>end_date</strong> – str or date with last date to be included.
Dates past this date will be dropped, supplied
end_date will always be included. Overridden if time_index
is ‘first’ or ‘last’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFame of summary vectors for the ensembleset.
The column ‘ENSEMBLE’ will denote each ensemble’s name</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.get_smry">
<span class="sig-name descname"><span class="pre">get_smry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_eclsum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.get_smry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.get_smry" title="Link to this definition"></a></dt>
<dd><p>Aggregates summary data from all ensembles</p>
<p>Wraps around Ensemble.get_smry(), which wraps around
Realization.get_smry() which wraps around
resdata.summary.Summary.pandas_frame()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_index</strong> – list of DateTime if interpolation is wanted
default is None, which returns the raw Eclipse report times
If a string is supplied, that string is attempted used
via get_smry_dates() in order to obtain a time index.</p></li>
<li><p><strong>column_keys</strong> – list of column key wildcards</p></li>
<li><p><strong>cache_eclsum</strong> – boolean for whether to cache the Summary
objects. Defaults to False. Set to True if
there is enough memory to keep all realizations summary
files in memory at once. This will speed up subsequent
operations</p></li>
<li><p><strong>start_date</strong> – str or date with first date to include.
Dates prior to this date will be dropped, supplied
start_date will always be included. Overridden if time_index
is ‘first’ or ‘last’.</p></li>
<li><p><strong>end_date</strong> – str or date with last date to be included.
Dates past this date will be dropped, supplied
end_date will always be included. Overridden if time_index
is ‘first’ or ‘last’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFame of summary vectors for the EnsembleSet. The column
ENSEMBLE will distinguish the different ensembles by their
respective names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.get_smry_dates">
<span class="sig-name descname"><span class="pre">get_smry_dates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monthly'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_eclsum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.get_smry_dates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.get_smry_dates" title="Link to this definition"></a></dt>
<dd><p>Return list of datetimes from an ensembleset</p>
<p>Datetimes from each realization in each ensemble can
be returned raw, or be resampled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>freq</strong> – <dl class="simple">
<dt>string denoting requested frequency for</dt><dd><p>the returned list of datetime. ‘report’ will
yield the sorted union of all valid timesteps for
all realizations. Other valid options are
‘daily’, ‘monthly’ and ‘yearly’.</p>
</dd>
<dt>cache_eclsum: Boolean for whether we should cache the Summary</dt><dd><p>objects. Set to False if you cannot keep all Summary files in
memory simultaneously</p>
</dd>
<dt>start_date: str or date with first date to include.</dt><dd><p>Dates prior to this date will be dropped, supplied
start_date will always be included. Overridden if time_index
is ‘first’ or ‘last’.</p>
</dd>
<dt>end_date: str or date with last date to be included.</dt><dd><p>Dates past this date will be dropped, supplied
end_date will always be included. Overridden if time_index
is ‘first’ or ‘last’.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of datetime.date.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.ensembleset.EnsembleSet.get_wellnames">
<span class="sig-name descname"><span class="pre">get_wellnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">well_match</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/ensembleset.html#EnsembleSet.get_wellnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.ensembleset.EnsembleSet.get_wellnames" title="Link to this definition"></a></dt>
<dd><p>Return a union of all Eclipse summary well names in all ensembles
realizations (union).</p>
<p>Optionally, the well names can be filtered.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>well_match</strong> – <cite>Optional</cite>. String (or list of strings)
with wildcard filter (globbing). If None, all wells ar
returned. Empty string will not match anything.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of strings with eclipse well names. Empty list if no
summary file or no matched well names.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-fmu.ensemble.etc">
<span id="fmu-ensemble-etc-module"></span><h2>fmu.ensemble.etc module<a class="headerlink" href="#module-fmu.ensemble.etc" title="Link to this heading"></a></h2>
<p>This module is deprecated and will be removed in fmu-ensemble v2.0.0</p>
<dl class="py class">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmu.ensemble.etc.</span></span><span class="sig-name descname"><span class="pre">Interaction</span></span><a class="reference internal" href="_modules/fmu/ensemble/etc.html#Interaction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.etc.Interaction" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>System for handling interaction; dialogues and messages in FMU.</p>
<p>This module cooperates with the standard Python logging module.</p>
<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.logginglevel">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">logginglevel</span></span><a class="headerlink" href="#fmu.ensemble.etc.Interaction.logginglevel" title="Link to this definition"></a></dt>
<dd><p>Set or return a logging level property, e.g. logging.CRITICAL</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.numericallogginglevel">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">numericallogginglevel</span></span><a class="headerlink" href="#fmu.ensemble.etc.Interaction.numericallogginglevel" title="Link to this definition"></a></dt>
<dd><p>Return a numerical logging level (read only)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.loggingformatlevel">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">loggingformatlevel</span></span><a class="headerlink" href="#fmu.ensemble.etc.Interaction.loggingformatlevel" title="Link to this definition"></a></dt>
<dd><p>Set logging format (for future use)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.loggingformat">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">loggingformat</span></span><a class="headerlink" href="#fmu.ensemble.etc.Interaction.loggingformat" title="Link to this definition"></a></dt>
<dd><p>Returns the format string to be used in logging</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.tmpdir">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tmpdir</span></span><a class="headerlink" href="#fmu.ensemble.etc.Interaction.tmpdir" title="Link to this definition"></a></dt>
<dd><p>Get and set tmpdir for testing</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.print_fmu_header">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">print_fmu_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appversion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/etc.html#Interaction.print_fmu_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.etc.Interaction.print_fmu_header" title="Link to this definition"></a></dt>
<dd><p>Prints a banner for a FMU app to STDOUT.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>appname</strong> (<em>str</em>) – Name of application.</p></li>
<li><p><strong>appversion</strong> (<em>str</em>) – Version of application on form ‘3.2.1’</p></li>
<li><p><strong>info</strong> (<em>str</em><em>, </em><em>optional</em>) – More info, e.g. if beta release</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>fmux.print_fmu_header(&#39;fmu.ensemble, &#39;0.2.1&#39;, info=&#39;Beta release!&#39;)
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.basiclogger">
<span class="sig-name descname"><span class="pre">basiclogger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/etc.html#Interaction.basiclogger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.etc.Interaction.basiclogger" title="Link to this definition"></a></dt>
<dd><p>Initiate the logger by some default settings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.functionlogger">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">functionlogger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/etc.html#Interaction.functionlogger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.etc.Interaction.functionlogger" title="Link to this definition"></a></dt>
<dd><p>Get the logger for functions (not top level).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.testsetup">
<span class="sig-name descname"><span class="pre">testsetup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'TMP'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/etc.html#Interaction.testsetup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.etc.Interaction.testsetup" title="Link to this definition"></a></dt>
<dd><p>Basic setup for FMU testing (developer only; relevant for tests)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.timer">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">timer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/etc.html#Interaction.timer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.etc.Interaction.timer" title="Link to this definition"></a></dt>
<dd><p>Without args; return the time, with a time as arg return the
difference.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">time1</span> <span class="o">=</span> <span class="n">timer</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">time2</span> <span class="o">=</span> <span class="n">timer</span><span class="p">(</span><span class="n">time1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Execution took </span><span class="si">{}</span><span class="s1"> seconds&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">time2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.echo">
<span class="sig-name descname"><span class="pre">echo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/etc.html#Interaction.echo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.etc.Interaction.echo" title="Link to this definition"></a></dt>
<dd><p>Show info at runtime (for user scripts)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.warn">
<span class="sig-name descname"><span class="pre">warn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/etc.html#Interaction.warn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.etc.Interaction.warn" title="Link to this definition"></a></dt>
<dd><p>Show warnings at Runtime (pure user info/warns).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.warning">
<span class="sig-name descname"><span class="pre">warning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmu.ensemble.etc.Interaction.warning" title="Link to this definition"></a></dt>
<dd><p>Show warnings at Runtime (pure user info/warns).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.error">
<span class="sig-name descname"><span class="pre">error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/etc.html#Interaction.error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.etc.Interaction.error" title="Link to this definition"></a></dt>
<dd><p>Issue an error, will not exit system by default</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.critical">
<span class="sig-name descname"><span class="pre">critical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sysexit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/etc.html#Interaction.critical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.etc.Interaction.critical" title="Link to this definition"></a></dt>
<dd><p>Issue a critical error, default is SystemExit.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.etc.Interaction.get_callerinfo">
<span class="sig-name descname"><span class="pre">get_callerinfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">caller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/etc.html#Interaction.get_callerinfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.etc.Interaction.get_callerinfo" title="Link to this definition"></a></dt>
<dd><p>Get caller info for logging (developer stuff)</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-fmu.ensemble.observations">
<span id="fmu-ensemble-observations-module"></span><h2>fmu.ensemble.observations module<a class="headerlink" href="#module-fmu.ensemble.observations" title="Link to this heading"></a></h2>
<p>Observations support and related calculations</p>
<dl class="py class">
<dt class="sig sig-object py" id="fmu.ensemble.observations.Observations">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmu.ensemble.observations.</span></span><span class="sig-name descname"><span class="pre">Observations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">observations</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/observations.html#Observations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.observations.Observations" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents a set of observations and the ability to
compare realizations and ensembles to the observations</p>
<p>The primary data structure is a dictionary holding actual
observations, this can typically be loaded from a yaml-file</p>
<p>Key functionality is to be able to compute mismatch pr
observation and presenting the computed data as a Pandas
Dataframe. If run on ensembles, every row will be tagged
by which realization index the data was computed for.</p>
<p>An observation unit is a concept for the observation and points to
something we define as a “single” observation. It can be one value
for one datatype at a specific date, but in the case of Eclipse
summary vector, it can also be a time-series. Mismatches will
be computed pr. observation unit.</p>
<p>Pay attention to mismatch versus misfit. Here, mismatch is used
for individual observation units, while misfit is used as single
number for whole realizations.</p>
<p>Important: Using time-series as observations is not recommended in
assisted history match. Pick individual uncorrelated data points
at relevant points in time instead.</p>
<p>The type of observations supported must follow the datatypes that
the realizations and ensemble objects are able to internalize.</p>
<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.observations.Observations.mismatch">
<span class="sig-name descname"><span class="pre">mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ens_or_real</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/observations.html#Observations.mismatch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.observations.Observations.mismatch" title="Link to this definition"></a></dt>
<dd><p>Compute the mismatch from the current observation set
to the incoming ensemble or realization.</p>
<p>In the case of an ensemble, it will calculate individually
for every realization, and aggregate the results.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>dataframe with REAL (only if ensemble), OBSKEY, DATE,</dt><dd><p>L1, L2. One row for every observation unit.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.observations.Observations.load_smry">
<span class="sig-name descname"><span class="pre">load_smry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">realization</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smryvector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'yearly'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smryerror</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/observations.html#Observations.load_smry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.observations.Observations.load_smry" title="Link to this definition"></a></dt>
<dd><p>Add an observation unit from a VirtualRealization or
ScratchRealization, being a specific summaryvector, picking
values with the specified time resolution.</p>
<p>This can be used to compare similarity between realization, by
viewing simulated results as “observations”. A use case is
to rank all realizations in an ensemble for the similarity to
a certain mean profile, f.ex. FOPT.</p>
<p>The result of the function is a observation unit added to
the smry observations, with values at every date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>realization</strong> – ScratchRealization or VirtualRealization containing
data for constructing the virtual observation</p></li>
<li><p><strong>smryvector</strong> – string with a name of a specific summary vector
to be used</p></li>
<li><p><strong>time_index</strong> – string with timeresolution, typically ‘yearly’
or ‘monthly’.</p></li>
<li><p><strong>smryerror</strong> – float, constant value to be used as the measurement
error for every date.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.observations.Observations.empty">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">empty</span></span><a class="headerlink" href="#fmu.ensemble.observations.Observations.empty" title="Link to this definition"></a></dt>
<dd><p>Decide if the observation set is empty</p>
<p>An empty observation set is has zero observation
unit count</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.observations.Observations.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/observations.html#Observations.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.observations.Observations.keys" title="Link to this definition"></a></dt>
<dd><p>Return a list of observation units present.</p>
<p>This list might change into a dataframe in the future,
but calling len() on its results should always return
the number of observation units.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.observations.Observations.to_ert2observations">
<span class="sig-name descname"><span class="pre">to_ert2observations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/observations.html#Observations.to_ert2observations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.observations.Observations.to_ert2observations" title="Link to this definition"></a></dt>
<dd><p>Convert the observation set to an observation
file for use with Ert 2.x.</p>
<p>Returns: multiline string</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.observations.Observations.to_yaml">
<span class="sig-name descname"><span class="pre">to_yaml</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/observations.html#Observations.to_yaml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.observations.Observations.to_yaml" title="Link to this definition"></a></dt>
<dd><p>Convert the current observations to YAML format</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Multiline YAML string.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.observations.Observations.to_disk">
<span class="sig-name descname"><span class="pre">to_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/observations.html#Observations.to_disk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.observations.Observations.to_disk" title="Link to this definition"></a></dt>
<dd><p>Write the current observation object to disk</p>
<p>In YAML-format. If a new observation object
is instantiated from the outputted filename, it
should yield identical results in mismatch
calculation.</p>
<p>Directory structure will be created if not existing.
Existing file will be overwritten.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>to</strong> (<em>filename - string with path and filename</em>) – be written to</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-fmu.ensemble.realization">
<span id="fmu-ensemble-realization-module"></span><h2>fmu.ensemble.realization module<a class="headerlink" href="#module-fmu.ensemble.realization" title="Link to this heading"></a></h2>
<p>Module for the ScratchRealization class</p>
<p>A realization is a set of results from one subsurface model
realization. A realization can be either defined from
its output files from the FMU run on the file system,
it can be computed from other realizations, or it can be
an archived realization.</p>
<dl class="py class">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmu.ensemble.realization.</span></span><span class="sig-name descname"><span class="pre">ScratchRealization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">realidxregexp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autodiscovery</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A representation of results still present on disk</p>
<p>ScratchRealizations point to the filesystem for their
contents.</p>
<p>A realization must at least contain a STATUS file.
Additionally, jobs.json and parameters.txt will be attempted
loaded by default.</p>
<p>The realization is defined by the pointers to the filesystem.
When asked for, this object will return data from the
filesystem (or from cache if already computed).</p>
<p>The files dataframe is the central filesystem pointer
repository for the object. It will at least contain
the columns
* FULLPATH absolute path to a file
* FILETYPE filename extension (after last dot)
* LOCALPATH relative filename inside realization diretory
* BASENAME filename only. No path. Includes extension</p>
<p>This dataframe is available as a read-only property from the object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – absolute or relative path to a directory
containing a realizations files.</p></li>
<li><p><strong>realidxregexp</strong> (<em>re/str</em>) – a compiled regular expression which
is used to determine the realization index (integer)
from the path. First match is the index.
Default: realization-(d+)
Only needs to match path components.
If a string is supplied, it will be attempted
compiled into a regular expression.</p></li>
<li><p><strong>index</strong> (<em>int</em>) – the realization index to be used, will
override anything else.</p></li>
<li><p><strong>autodiscovery</strong> (<em>boolean</em>) – whether the realization should try to
auto-discover certain data (UNSMRY files in standard location)</p></li>
<li><p><strong>batch</strong> (<em>dict</em>) – List of functions (load_*) that
should be run at time of initialization. Each element is a
length 1 dictionary with the function name to run as the key
and each keys value should be the function arguments as a dict.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.process_batch">
<span class="sig-name descname"><span class="pre">process_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.process_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.process_batch" title="Link to this definition"></a></dt>
<dd><p>Process a list of functions to run/apply</p>
<p>This is equivalent to calling each function individually
but this enables more efficient concurrency. It is meant
to be used for functions that modifies the realization
object, not for functions that returns a dataframe already.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>batch</strong> (<em>list</em>) – Each list element is a dictionary with one key,
being a function names, value pr key is a dict with keyword
arguments to be supplied to each function.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>This realization object (self), for it</dt><dd><p>to be picked up by ProcessPoolExecutor and pickling.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#fmu.ensemble.realization.ScratchRealization" title="fmu.ensemble.realization.ScratchRealization">ScratchRealization</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.runpath">
<span class="sig-name descname"><span class="pre">runpath</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.runpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.runpath" title="Link to this definition"></a></dt>
<dd><p>Return the runpath (“root”) of the realization</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>the filesystem path which at least existed</dt><dd><p>at time of object initialization.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.to_virtual">
<span class="sig-name descname"><span class="pre">to_virtual</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deepcopy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.to_virtual"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.to_virtual" title="Link to this definition"></a></dt>
<dd><p>Convert the current ScratchRealization object
to a VirtualRealization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>description</strong> (<em>str</em>) – used as label</p></li>
<li><p><strong>deepcopy</strong> (<em>boolean</em>) – Set to true if you want to continue
to manipulate the ScratchRealization object
afterwards without affecting the virtual realization.
Defaults to True. False will give faster execution.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.load_file">
<span class="sig-name descname"><span class="pre">load_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fformat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_numeric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.load_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.load_file" title="Link to this definition"></a></dt>
<dd><p>Parse and internalize files from disk.</p>
<p>Several file formats are supported:
- txt (one key-value pair pr. line)
- csv
- scalar (one number or one string in the first line)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.load_scalar">
<span class="sig-name descname"><span class="pre">load_scalar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_numeric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_blank_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipinitialspace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.load_scalar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.load_scalar" title="Link to this definition"></a></dt>
<dd><p>Parse a single value from a file.</p>
<p>The value can be a string or a number.</p>
<p>Empty files are treated as existing, with an empty string as
the value, different from non-existing files.</p>
<p>pandas.read_table() is used to parse the contents, the args
‘comment’, ‘skip_blank_lines’, and ‘skipinitialspace’ is passed on
to that function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> – path to the file, local to the realization</p></li>
<li><p><strong>convert_numeric</strong> – If True, non-numerical content will be thrown away</p></li>
<li><p><strong>force_reread</strong> – Reread the data from disk.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the value read from the file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str/number</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.load_txt">
<span class="sig-name descname"><span class="pre">load_txt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_numeric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.load_txt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.load_txt" title="Link to this definition"></a></dt>
<dd><p>Parse a txt file with
&lt;key&gt; &lt;value&gt;
in each line.</p>
<p>The txt file will be internalized in a dict and will be
stored if the object is archived. Recommended file
extension is ‘txt’.</p>
<p>Common usage is internalization of parameters.txt which
happens by default, but this can be used for all txt files.</p>
<p>The parsed data is returned as a dict. At the ensemble level
the same function returns a dataframe.</p>
<p>There is no get’er for the constructed data, access the
class variable keyvaluedata directly, or rerun this function.
(except for parameters.txt, for which there is a property
called ‘parameters’)</p>
<p>Values with spaces are not supported, this is similar
to ERT’s CSV_EXPORT1. Remainder string will be ignored silently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> – path local the realization to the txt file</p></li>
<li><p><strong>convert_numeric</strong> – defaults to True, will try to parse
all values as integers, if not, then floats, and
strings as the last resort.</p></li>
<li><p><strong>force_reread</strong> – Force reread from file system. If
False, repeated calls to this function will
returned cached results.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Dictionary with the parsed values. Values will be returned as</dt><dd><p>integers, floats or strings. If convert_numeric
is False, all values are strings.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.load_csv">
<span class="sig-name descname"><span class="pre">load_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_numeric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.load_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.load_csv" title="Link to this definition"></a></dt>
<dd><p>Parse a CSV file as a DataFrame</p>
<p>Data will be stored as a DataFrame for later
access or storage.</p>
<p>Filename is relative to realization root.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> – path local the realization to the txt file</p></li>
<li><p><strong>convert_numeric</strong> – defaults to True, will try to parse
all values as integers, if not, then floats, and
strings as the last resort.</p></li>
<li><p><strong>force_reread</strong> – Force reread from file system. If
False, repeated calls to this function will
returned cached results.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>The CSV file loaded. Empty dataframe</dt><dd><p>if file is not present.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.load_status">
<span class="sig-name descname"><span class="pre">load_status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.load_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.load_status" title="Link to this definition"></a></dt>
<dd><p>Collects the contents of the STATUS files and return
as a dataframe, with information from jobs.json added if
available.</p>
<p>Each row in the dataframe is a finished FORWARD_MODEL
The STATUS files are parsed and information is extracted.
Job duration is calculated, but jobs above 24 hours
get incorrect durations.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dataframe with information from the STATUS files.
Each row represents one job in one of the realizations.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.apply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.apply" title="Link to this definition"></a></dt>
<dd><p>Callback functionality</p>
<p>A function handle can be supplied which will be executed on
this realization. The function supplied <em>must</em> return
a Pandas DataFrame. The function can accept an additional
kwargs dictionary with extra information. Special keys
in the kwargs data are ‘realization’, which will hold
the current realization object. The key ‘localpath’ is
also reserved for the use inside this apply(), as it
is used for the name of the internalized data.</p>
<p>If the key ‘dumptofile’ is a boolean and set to True,
the resulting dataframe is also attempted written
to disk using the supplied ‘localpath’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – which is supplied to the callbacked function,
in which the key ‘localpath’ also points the the name
used for data internalization.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.keys" title="Link to this definition"></a></dt>
<dd><p>Access the keys of the internal data structure</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_df">
<span class="sig-name descname"><span class="pre">get_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_df" title="Link to this definition"></a></dt>
<dd><p>Access the internal datastore which contains dataframes or dicts
or scalars.</p>
<p>The localpath argument can be shortened, as it will be
looked up using the function shortcut2path()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> (<em>str</em>) – the idenfier of the data requested</p></li>
<li><p><strong>merge</strong> (<em>list</em><em> or </em><em>str</em>) – identifier/localpath of some data to be merged in,
typically ‘parameters.txt’. Will only work when return type is a
dataframe. If list is supplied, order can matter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dataframe or dictionary.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>KeyError if data is not found.</strong> – </p></li>
<li><p><strong>TypeError if data in localpath</strong><strong> or </strong><strong>merge is not</strong><strong> of </strong><strong>a mergeable type</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.find_files">
<span class="sig-name descname"><span class="pre">find_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metayaml</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.find_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.find_files" title="Link to this definition"></a></dt>
<dd><p>Discover realization files. The files dataframe
will be updated.</p>
<p>Certain functionality requires up-front file discovery,
e.g. ensemble archiving and ensemble arithmetic.</p>
<p>CSV files for single use do not have to be discovered.</p>
<p>Files containing double-dashes ‘–’ indicate that the double
dashes separate different component with meaning in the
filename.  The components are extracted and put into
additional columns “COMP1”, “COMP2”, etc..
Filetype extension (after the last dot) will be removed
from the last component.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paths</strong> – str or list of str with filenames (will be globbed)
that are relative to the realization directory.</p></li>
<li><p><strong>metadata</strong> – dict with metadata to assign for the discovered
files. The keys will be columns, and its values will be
assigned as column values for the discovered files.
During rediscovery of files, old metadata will be removed.</p></li>
<li><p><strong>metayaml</strong> – Additional possibility of adding metadata from
associated yaml files. Yaml files to be associated to
a specific discovered file can have an optional dot in
front, and must end in .yml, added to the discovered filename.
The yaml file will be loaded as a dict, and have its keys
flattened using the separator ‘–’. Flattened keys are
then used as column headers in the returned dataframe.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A slice of the internalized dataframe corresponding
to the discovered files (will be included even if it has
been discovered earlier)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.parameters">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parameters</span></span><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.parameters" title="Link to this definition"></a></dt>
<dd><p>Access the data obtained from parameters.txt</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict with data from parameters.txt</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_eclfiles">
<span class="sig-name descname"><span class="pre">get_eclfiles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_eclfiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_eclfiles" title="Link to this definition"></a></dt>
<dd><p>get_eclfiles is deprecated as ecl2df has been renamed to res2df.
Use the function get_resdatafiles together with res2df instead.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_resdatafiles">
<span class="sig-name descname"><span class="pre">get_resdatafiles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_resdatafiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_resdatafiles" title="Link to this definition"></a></dt>
<dd><p>Return an res2df.ResdataFiles object to connect to the res2df package</p>
<p>If autodiscovery, it will search for a DATA file in
the standard location eclipse/model/…DATA.</p>
<p>If you have multiple DATA files, you must discover
the one you need explicitly before calling this function, example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">real</span> <span class="o">=</span> <span class="n">ScratchRealization</span><span class="p">(</span><span class="s2">&quot;myrealpath&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">real</span><span class="o">.</span><span class="n">find_files</span><span class="p">(</span><span class="s2">&quot;eclipse/model/MYMODELPREDICTION.DATA&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>res2df.ResdataFiles. None if nothing found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_eclsum">
<span class="sig-name descname"><span class="pre">get_eclsum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_restart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_eclsum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_eclsum" title="Link to this definition"></a></dt>
<dd><p>Fetch the Eclipse Summary file from the realization
and return as a ResdataFile object</p>
<p>Unless the UNSMRY file has been discovered, it will
pick the file from the glob <cite>eclipse/model/*UNSMRY</cite>,
as long as autodiscovery is not turned off when
the realization object was initialized.</p>
<p>If you have multiple UNSMRY files in eclipse/model
turning off autodiscovery is strongly recommended.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cache</strong> – boolean indicating whether we should keep an
object reference to the EclSum object. Set to
false if you need to conserve memory.</p></li>
<li><p><strong>include_restart</strong> – boolean sent to resdata for whether restart
files should be traversed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>object representing the summary file. None if</dt><dd><p>nothing was found.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>EclSum</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.load_smry">
<span class="sig-name descname"><span class="pre">load_smry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raw'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_eclsum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_restart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.load_smry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.load_smry" title="Link to this definition"></a></dt>
<dd><p>Produce dataframe from Summary data from the realization</p>
<p>When this function is called, the dataframe will be
internalized.  Internalization of summary data in a
realization object supports different time_index, but there is
no handling of multiple sets of column_keys. The cached data
will be called</p>
<blockquote>
<div><p>‘share/results/tables/unsmry–&lt;time_index&gt;.csv’</p>
</div></blockquote>
<p>where &lt;time_index&gt; is among ‘yearly’, ‘monthly’, ‘daily’, ‘first’,
‘last’ or ‘raw’ (meaning the raw dates in the SMRY file), depending
on the chosen time_index. If a custom time_index (list
of datetime) was supplied, &lt;time_index&gt; will be called ‘custom’.</p>
<p>Wraps resdata.summary.Summary.pandas_frame()</p>
<p>See also get_smry()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_index</strong> – string indicating a resampling frequency,
‘yearly’, ‘monthly’, ‘daily’, ‘first’, ‘last’ or ‘raw’, the
latter will return the simulated report steps (also default).
If a list of DateTime is supplied, data will be resampled
to these.</p></li>
<li><p><strong>column_keys</strong> – list of column key wildcards. None means everything.</p></li>
<li><p><strong>cache_eclsum</strong> – boolean for whether to keep the loaded EclSum
object in memory after data has been loaded.</p></li>
<li><p><strong>start_date</strong> – str or date with first date to include.
Dates prior to this date will be dropped, supplied
start_date will always be included. Overridden if time_index
is ‘first’ or ‘last’.</p></li>
<li><p><strong>end_date</strong> – str or date with last date to be included.
Dates past this date will be dropped, supplied
end_date will always be included. Overridden if time_index
is ‘first’ or ‘last’.</p></li>
<li><p><strong>include_restart</strong> – boolean sent to resdata for whether restart
files should be traversed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>DataFrame with summary keys as columns and dates as indices.</dt><dd><p>Empty dataframe if no summary is available or column
keys do not exist.</p>
</dd>
<dt>DataFrame: with summary keys as columns and dates as indices.</dt><dd><p>Empty dataframe if no summary is available.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_smry">
<span class="sig-name descname"><span class="pre">get_smry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_eclsum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_restart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_smry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_smry" title="Link to this definition"></a></dt>
<dd><p>Wrapper for EclSum.pandas_frame</p>
<p>This gives access to the underlying data on disk without
touching internalized dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_index</strong> – string indicating a resampling frequency,
‘yearly’, ‘monthly’, ‘daily’, ‘first’, ‘last’ or ‘raw’, the
latter will return the simulated report steps (also default).
If a list of DateTime is supplied, data will be resampled
to these. If a date in ISO-8601 format is supplied, that is
used as a single date.</p></li>
<li><p><strong>column_keys</strong> – list of column key wildcards. None means everything.</p></li>
<li><p><strong>cache_eclsum</strong> – boolean for whether to keep the loaded EclSum
object in memory after data has been loaded.</p></li>
<li><p><strong>start_date</strong> – str or date with first date to include.
Dates prior to this date will be dropped, supplied
start_date will always be included. Overridden if time_index
is ‘first’ or ‘last’.</p></li>
<li><p><strong>end_date</strong> – str or date with last date to be included.
Dates past this date will be dropped, supplied
end_date will always be included. Overridden if time_index
is ‘first’ or ‘last’.</p></li>
</ul>
</dd>
</dl>
<p>Returns empty dataframe if there is no summary file, or if the
column_keys are not existing.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_smry_meta">
<span class="sig-name descname"><span class="pre">get_smry_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_smry_meta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_smry_meta" title="Link to this definition"></a></dt>
<dd><p>Provide metadata for summary data vectors.</p>
<p>A dictionary indexed by summary vector names is returned, and each
value is another dictionary with potentially the metadata types:
* unit (string)
* is_total (bool)
* is_rate (bool)
* is_historical (bool)
* get_num (int) (only provided if not None)
* keyword (str)
* wgname (str or None)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>column_keys</strong> – List or str of column key wildcards</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_volumetric_rates">
<span class="sig-name descname"><span class="pre">get_volumetric_rates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_volumetric_rates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_volumetric_rates" title="Link to this definition"></a></dt>
<dd><p>Compute volumetric rates from cumulative summary vectors</p>
<p>See <code class="xref py py-meth docutils literal notranslate"><span class="pre">fmu.ensemble.util.compute_volumetric_rates()</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_smryvalues">
<span class="sig-name descname"><span class="pre">get_smryvalues</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">props_wildcard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_smryvalues"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_smryvalues" title="Link to this definition"></a></dt>
<dd><p>Fetch selected vectors from Eclipse Summary data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>props_wildcard</strong> – string or list of strings with vector
wildcards</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a dataframe with values. Raw times from UNSMRY.
Empty dataframe if no summary file data available</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_smry_dates">
<span class="sig-name descname"><span class="pre">get_smry_dates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monthly'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_restart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_smry_dates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_smry_dates" title="Link to this definition"></a></dt>
<dd><p>Return list of datetimes available in the realization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>freq</strong> – string denoting requested frequency for
the returned list of datetime. ‘report’ will
yield the sorted union of all valid timesteps for
all realizations. Other valid options are
‘daily’, ‘weekly’, ‘monthly’ and ‘yearly’.
‘first’ will give out the first date (minimum) and
‘last’ will give out the last date (maximum),
both as lists with one element.</p></li>
<li><p><strong>normalize</strong> – Whether to normalize backwards at the start
and forwards at the end to ensure the raw
date range is covered.</p></li>
<li><p><strong>start_date</strong> – str or date with first date to include
Dates prior to this date will be dropped, supplied
start_date will always be included. Overrides
normalized dates. Overridden if freq is ‘first’
or ‘last’.</p></li>
<li><p><strong>end_date</strong> – str or date with last date to be included.
Dates past this date will be dropped, supplied
end_date will always be included. Overrides
normalized dates. Overridden if freq is ‘first’
or ‘last’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of datetimes. None if no summary data is available.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.contains">
<span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.contains"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.contains" title="Link to this definition"></a></dt>
<dd><p>Boolean function for asking the realization for presence
of certain data types and possibly data values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> – string pointing to the data for which the query
applies. If no other arguments, only realizations containing
this data key is kept.</p></li>
<li><p><strong>key</strong> – A certain key within a realization dictionary that is
required to be present. If a value is also provided, this
key must be equal to this value. If localpath is not
a dictionary, this will raise a ValueError</p></li>
<li><p><strong>value</strong> – The value a certain key must equal. Floating point
comparisons are not robust. Only relevant for dictionaries</p></li>
<li><p><strong>column</strong> – Name of a column in tabular data. If columncontains is
not specified, this means that this column must be present</p></li>
<li><p><strong>columncontains</strong> – A value that the specific column must include.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the data is present and fulfilling any
criteria.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.drop">
<span class="sig-name descname"><span class="pre">drop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.drop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.drop" title="Link to this definition"></a></dt>
<dd><p>Delete elements from internalized data.</p>
<p>Shortcuts are allowed for localpath. If the data pointed to is
a DataFrame, you can delete columns, or rows containing certain
elements</p>
<p>If the data pointed to is a dictionary, keys can be deleted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> – string, path to internalized data. If no other options
are supplied, that dataset is deleted in its entirety</p></li>
<li><p><strong>column</strong> – string with a column name to drop. Only for dataframes</p></li>
<li><p><strong>columns</strong> – list of strings with column names to delete</p></li>
<li><p><strong>rowcontains</strong> – rows where one column contains this string will be
dropped. The comparison is on strings only, and all cells in
the dataframe is converted to strings for the comparison.
Thus it might work on dates, but be careful with numbers.</p></li>
<li><p><strong>key</strong> – string with a keyname in a dictionary. Will not work for
dataframes</p></li>
<li><p><strong>keys</strong> – list of strings of keys to delete from a dictionary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_init">
<span class="sig-name descname"><span class="pre">get_init</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_init" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>init file of the realization.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_unrst">
<span class="sig-name descname"><span class="pre">get_unrst</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_unrst"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_unrst" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>restart file of the realization.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_grid_index">
<span class="sig-name descname"><span class="pre">get_grid_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active_only</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_grid_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_grid_index" title="Link to this definition"></a></dt>
<dd><p>Return the grid index in a pandas dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_grid_corners">
<span class="sig-name descname"><span class="pre">get_grid_corners</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid_index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_grid_corners"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_grid_corners" title="Link to this definition"></a></dt>
<dd><p>Return a dataframe with the the x, y, z for the
8 grid corners of corner point cells</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_grid_centre">
<span class="sig-name descname"><span class="pre">get_grid_centre</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid_index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_grid_centre"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_grid_centre" title="Link to this definition"></a></dt>
<dd><p>Return the grid centre of corner-point-cells, x, y and z
in distinct columns</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_grid">
<span class="sig-name descname"><span class="pre">get_grid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_grid" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>grid file of the realization.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.global_size">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">global_size</span></span><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.global_size" title="Link to this definition"></a></dt>
<dd><p>Number of cells in the realization.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>returns</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.actnum">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">actnum</span></span><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.actnum" title="Link to this definition"></a></dt>
<dd><p>EclKw of ints showing which cells are active,
Active cells are given value 1, while
inactive cells have value 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>returns</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.report_dates">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">report_dates</span></span><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.report_dates" title="Link to this definition"></a></dt>
<dd><p>List of DateTime.DateTime for which values are reported.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>returns</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_global_init_keyword">
<span class="sig-name descname"><span class="pre">get_global_init_keyword</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prop</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_global_init_keyword"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_global_init_keyword" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prop</strong> – A name of a keyword in the realization’s init file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The EclKw of given name. Length is global_size.
non-active cells are given value 0.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realization.ScratchRealization.get_global_unrst_keyword">
<span class="sig-name descname"><span class="pre">get_global_unrst_keyword</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realization.html#ScratchRealization.get_global_unrst_keyword"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realization.ScratchRealization.get_global_unrst_keyword" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prop</strong> – A name of a keyword in the realization’s restart file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The EclKw of given name. Length is global_size.
non-active cells are given value 0.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-fmu.ensemble.realizationcombination">
<span id="fmu-ensemble-realizationcombination-module"></span><h2>fmu.ensemble.realizationcombination module<a class="headerlink" href="#module-fmu.ensemble.realizationcombination" title="Link to this heading"></a></h2>
<p>Module for handling linear combinations of realizations.</p>
<dl class="py class">
<dt class="sig sig-object py" id="fmu.ensemble.realizationcombination.RealizationCombination">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmu.ensemble.realizationcombination.</span></span><span class="sig-name descname"><span class="pre">RealizationCombination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realizationcombination.html#RealizationCombination"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realizationcombination.RealizationCombination" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The class is used to perform linear operations on realizations.</p>
<p>When instantiated, the linear combination will not actually be
computed before the results are actually asked for - lazy
evaluation.</p>
<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realizationcombination.RealizationCombination.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realizationcombination.html#RealizationCombination.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realizationcombination.RealizationCombination.keys" title="Link to this definition"></a></dt>
<dd><p>Return the intersection of all keys available in reference
realization(combination) and the other</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realizationcombination.RealizationCombination.get_df">
<span class="sig-name descname"><span class="pre">get_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realizationcombination.html#RealizationCombination.get_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realizationcombination.RealizationCombination.get_df" title="Link to this definition"></a></dt>
<dd><p>Obtain given data from the realizationcombination,
doing the actual computation of realizationdata on the fly.</p>
<p>Warning: In order to add dataframes together with meaning,
using pandas.add, the index of the frames must be correctly set,
and this can be tricky for some datatypes (f.ex. volumetrics table
where you want to add together volumes for correct zone
and fault segment).</p>
<p>If you have the columns “DATE”, “ZONE” and/or “REGION”, it
will be regarded as an index column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> (<em>str</em>) – refers to the internalized name of the
data wanted in the realizations.</p></li>
<li><p><strong>merge</strong> (<em>list</em><em> or </em><em>str</em>) – Optional data to be merged in for the data
The merge will happen before combination. Be careful
with index guessing and merged data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>pd.DataFrame, str, float, int or dict. None if datatype is</dt><dd><p>a string which we cannot combine.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>KeyError if data is not found. This can also happen</strong> – </p></li>
<li><p><strong>for the requested data to merge in. TypeError if scalar values</strong> – </p></li>
<li><p><strong>are strings and they are multiplied with scalar.</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realizationcombination.RealizationCombination.to_virtual">
<span class="sig-name descname"><span class="pre">to_virtual</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyfilter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realizationcombination.html#RealizationCombination.to_virtual"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realizationcombination.RealizationCombination.to_virtual" title="Link to this definition"></a></dt>
<dd><p>Evaluate the current linear combination and return as
a VirtualRealization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>keyfilter</strong> (<em>list</em><em> or </em><em>str</em>) – If supplied, only keys matching wildcards
in this argument will be included. Use this for speed reasons
when only some data is needed. Default is to include everything.
If you supply “unsmry”, it will match every key that
includes this string by prepending and appending ‘*’ to your pattern</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>VirtualRealization</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realizationcombination.RealizationCombination.get_smry_dates">
<span class="sig-name descname"><span class="pre">get_smry_dates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monthly'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realizationcombination.html#RealizationCombination.get_smry_dates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realizationcombination.RealizationCombination.get_smry_dates" title="Link to this definition"></a></dt>
<dd><p>Create a union of dates available in the
involved ensembles</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realizationcombination.RealizationCombination.get_smry">
<span class="sig-name descname"><span class="pre">get_smry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realizationcombination.html#RealizationCombination.get_smry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realizationcombination.RealizationCombination.get_smry" title="Link to this definition"></a></dt>
<dd><p>Loads the Eclipse summary data directly from the underlying
realization data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_keys</strong> (<em>str</em><em> or </em><em>list</em>) – column key wildcards. Default
is ‘*’, which will match all vectors in the Eclipse
output.</p></li>
<li><p><strong>time_index</strong> (<em>str</em><em> or </em><em>list</em><em> of </em><em>DateTime</em>) – time_index mnemonic or
a list of explicit datetime at which the summary data
is requested (interpolated or extrapolated)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Indexed rows, has at least the column DATE</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.realizationcombination.RealizationCombination.get_smry_meta">
<span class="sig-name descname"><span class="pre">get_smry_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/realizationcombination.html#RealizationCombination.get_smry_meta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.realizationcombination.RealizationCombination.get_smry_meta" title="Link to this definition"></a></dt>
<dd><p>Provide metadata for summary data vectors.</p>
<p>A dictionary indexed by summary vector names is returned, and each
value is another dictionary with potentially the metadata types:
* unit (string)
* is_total (bool)
* is_rate (bool)
* is_historical (bool)
* get_num (int) (only provided if not None)
* keyword (str)
* wgname (str og None)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>column_keys</strong> – List or str of column key wildcards</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.realizationcombination.RealizationCombination.parameters">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parameters</span></span><a class="headerlink" href="#fmu.ensemble.realizationcombination.RealizationCombination.parameters" title="Link to this definition"></a></dt>
<dd><p>Access the data obtained from parameters.txt</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict with data from parameters.txt</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-fmu.ensemble.version">
<span id="fmu-ensemble-version-module"></span><h2>fmu.ensemble.version module<a class="headerlink" href="#module-fmu.ensemble.version" title="Link to this heading"></a></h2>
</section>
<section id="module-fmu.ensemble.virtualensemble">
<span id="fmu-ensemble-virtualensemble-module"></span><h2>fmu.ensemble.virtualensemble module<a class="headerlink" href="#module-fmu.ensemble.virtualensemble" title="Link to this heading"></a></h2>
<p>Module containing a VirtualEnsemble class</p>
<dl class="py class">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmu.ensemble.virtualensemble.</span></span><span class="sig-name descname"><span class="pre">VirtualEnsemble</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">longdescription</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fromdisk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lazy_load</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manifest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A computed or archived ensemble</p>
<p>Computed or archived, there is no link to the original dataset(s)
that once was on a file system.</p>
<p>Contrary to a ScratchEnsemble which contains realization objects
with individual data, a VirtualEnsemble stores aggregrated
dataframes for its data. The column REAL will in all dataframes
signify the realization index.</p>
<p>Initialization of VirtualEnsembles is typically done by other code, as
to_virtual() in a ScratchEnsemble.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – string, can be chosen freely</p></li>
<li><p><strong>data</strong> – dict with data to initialize with. Defaults to empty</p></li>
<li><p><strong>longdescription</strong> – string, free form multiline description.</p></li>
<li><p><strong>fromdisk</strong> – string with filesystem path, from which we will
try to initialize the ensemble from files on disk.</p></li>
<li><p><strong>lazy_load</strong> (<em>boolean</em>) – If true, it will be used if loaded from disk
to be lazy in actually loading dataframes from disk</p></li>
<li><p><strong>manifest</strong> – dict with any information about the ensemble</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.get_realindices">
<span class="sig-name descname"><span class="pre">get_realindices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.get_realindices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.get_realindices" title="Link to this definition"></a></dt>
<dd><p>Return the integer indices for realizations in this ensemble</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of integers</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.update_realindices">
<span class="sig-name descname"><span class="pre">update_realindices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.update_realindices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.update_realindices" title="Link to this definition"></a></dt>
<dd><p>Update the internal list of known realization indices</p>
<p>Anything that adds or removes realizations must
take responsibility for having that list consistent.</p>
<p>If there is a dataframe missing the REAL column, this
will intentionally error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.keys" title="Link to this definition"></a></dt>
<dd><p>Return all keys in the internal datastore</p>
<p>The keys are also called localpaths, and resemble the the
filenames they would be written to if dumped to disk, and also
resemble the filenames from which they were originally
loaded in a ScratchEnsemble.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.lazy_keys">
<span class="sig-name descname"><span class="pre">lazy_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.lazy_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.lazy_keys" title="Link to this definition"></a></dt>
<dd><p>Return keys that are not yet loaded, but will
be loaded on demand</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.shortcut2path">
<span class="sig-name descname"><span class="pre">shortcut2path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shortpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.shortcut2path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.shortcut2path" title="Link to this definition"></a></dt>
<dd><p>Convert short pathnames to fully qualified pathnames
within the datastore.</p>
<p>If the fully qualified localpath is</p>
<blockquote>
<div><p>‘share/results/volumes/simulator_volume_fipnum.csv’</p>
</div></blockquote>
<dl class="simple">
<dt>then you can also access this with these alternatives:</dt><dd><ul class="simple">
<li><p>simulator_volume_fipnum</p></li>
<li><p>simulator_volume_fipnum.csv</p></li>
<li><p>share/results/volumes/simulator_volume_fipnum</p></li>
</ul>
</dd>
</dl>
<p>but only as long as there is no ambiguity. In case
of ambiguity, the shortpath will be returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.get_realization">
<span class="sig-name descname"><span class="pre">get_realization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">realindex</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.get_realization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.get_realization" title="Link to this definition"></a></dt>
<dd><p>Return a virtual realization object, with data
taken from the virtual ensemble. Each dataframe
in the ensemble will by sliced by the REAL column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>realindex</strong> – integer for the realization.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>VirtualRealization, populated with data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.add_realization">
<span class="sig-name descname"><span class="pre">add_realization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">realization</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">realidx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.add_realization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.add_realization" title="Link to this definition"></a></dt>
<dd><p>Add a realization. A ScratchRealization will be effectively
converted to a virtual realization.</p>
<p>A ScratchRealization knows its realization index, and that index
will be used unless realidx is not None. A VirtualRealization does
not always have a index, so then it must be supplied.</p>
<p>Unless overwrite is True, a ValueError will be raised
if the realization index already exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>overwrite</strong> – boolean whether an existing realization with the same
index should be removed prior to adding</p></li>
<li><p><strong>realidx</strong> – Override the realization index for incoming realization.
Necessary for VirtualRealization.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.remove_realizations">
<span class="sig-name descname"><span class="pre">remove_realizations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deleteindices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.remove_realizations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.remove_realizations" title="Link to this definition"></a></dt>
<dd><p>Remove realizations from internal data</p>
<p>This will remove all rows in all internalized data belonging
to the set of supplied indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>deleteindices</strong> – int or list of ints, realization indices to remove</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.remove_data">
<span class="sig-name descname"><span class="pre">remove_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpaths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.remove_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.remove_data" title="Link to this definition"></a></dt>
<dd><p>Remove a certain datatype from the internal datastore</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>localpaths</strong> – string or list of strings, fully qualified localpath
(no shorthand allowed)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.agg">
<span class="sig-name descname"><span class="pre">agg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aggregation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keylist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excludekeys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.agg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.agg" title="Link to this definition"></a></dt>
<dd><p>Aggregate the ensemble data into a VirtualRealization</p>
<p>All data will be attempted aggregated. String data will typically
be dropped in the result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aggregation</strong> – string, supported modes are
‘mean’, ‘median’, ‘p10’, ‘p90’, ‘min’,
‘max’, ‘std, ‘var’, ‘pXX’ where X is a number</p></li>
<li><p><strong>keylist</strong> – list of strings, indicating which keys
in the internal datastore to include. If list is empty
(default), all data will be attempted included.</p></li>
<li><p><strong>excludekeys</strong> – list of strings that should be excluded if
keylist is empty, otherwise ignored</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>VirtualRealization. Its name will include the aggregation operator</p>
</dd>
</dl>
<p>WARNING: CODE DUPLICATION from ensemble.py</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.append"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.append" title="Link to this definition"></a></dt>
<dd><p>Append a dataframe to the internal datastore</p>
<p>Incoming dataframe MUST have a column called ‘REAL’ which
refers to the realization indices already known to the object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – name (localpath) for the data, this will be
the name under with the dataframe is stored, for
later retrival via get_df().</p></li>
<li><p><strong>dataframe</strong> – a Pandas DataFrame with a REAL column</p></li>
<li><p><strong>overwrite</strong> – boolean - set to True if existing data is
to be overwritten. Defaults to false which will
only issue a warning if the dataset exists already.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.to_disk">
<span class="sig-name descname"><span class="pre">to_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filesystempath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dumpcsv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dumpparquet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">includefiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symlinks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.to_disk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.to_disk" title="Link to this definition"></a></dt>
<dd><p>Dump all data to disk, in a retrieveable manner.</p>
<p>Unless dumpcsv is set to False, all data is dumped to CSV files,
except if some CSV files cannot be dumped as parquet.</p>
<p>Unless dumpparquet is set to False, all data is attempted dumped
as Parquet files. If parquet dumping fails for some reason, a CSV
file is always left behind.</p>
<p>dumpcsv and dumpparquet cannot be False at the same time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filesystempath</strong> – string with a directory, absolute or relative.
If it exists already it must be empty, or delete must be True.</p></li>
<li><p><strong>delete</strong> – boolean for whether an existing directory will be cleared
before data is dumped.</p></li>
<li><p><strong>dumpcsv</strong> – boolean for whether CSV files should be written.</p></li>
<li><p><strong>dumpparquet</strong> – boolean for whether parquet files should be written</p></li>
<li><p><strong>includefiles</strong> (<em>boolean</em>) – If set to True, files in the files
dataframe will be included in the disk-dump.</p></li>
<li><p><strong>symlinks</strong> (<em>boolean</em>) – If includefiles is True, setting this to True
means that only symlinking will take place, not full copy.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.from_disk">
<span class="sig-name descname"><span class="pre">from_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filesystempath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lazy_load</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.from_disk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.from_disk" title="Link to this definition"></a></dt>
<dd><p>Load data from disk.</p>
<p>Data must be written like to_disk() would have
written it. As long as you follow that convention,
you are able to add data manually to the filesystem
and load them into a VirtualEnsemble.</p>
<p>Any DataFrame not containing a column called ‘REAL’ with
integers will be ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filesystempath</strong> (<em>string</em>) – path to a directory that was written by
VirtualEnsemble.to_disk().</p></li>
<li><p><strong>fmt</strong> (<em>string</em>) – the preferred format to load,
must be either csv or parquet. If you say ‘csv’
parquet files will always be ignored. If you
say parquet, corresponding ‘csv’ files will still
be parsed. Delete them if you really don’t want them</p></li>
<li><p><strong>lazy_load</strong> (<em>bool</em>) – If True, loading of dataframes from disk
will be postponed until get_df() is actually called.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.get_df">
<span class="sig-name descname"><span class="pre">get_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.get_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.get_df" title="Link to this definition"></a></dt>
<dd><p>Access the internal datastore which contains dataframes or dicts</p>
<p>The localpath argument can be shortened, as it will be
looked up using the function shortcut2path()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> – the idenfier of the data requested</p></li>
<li><p><strong>merge</strong> (<em>list</em><em> or </em><em>str</em>) – refer to an additional localpath which
will be merged into the dataframe for every realization</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dataframe or dictionary</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError if no data is found</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.get_smry">
<span class="sig-name descname"><span class="pre">get_smry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monthly'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.get_smry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.get_smry" title="Link to this definition"></a></dt>
<dd><p>Function analoguous to the EclSum direct get’ters in ScratchEnsemble,
but here we have to resort to what we have internalized.</p>
<p>This will perform interpolation in each realizations data to
the requested time_index, this is done by creating VirtualRealization
object for all realizations, which can do the interpolation, and
the result is merged and returned. This creates some overhead, so
if you do not need the interpolation, stick with get_df() instead.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.get_smry_stats">
<span class="sig-name descname"><span class="pre">get_smry_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monthly'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.get_smry_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.get_smry_stats" title="Link to this definition"></a></dt>
<dd><p>Function to extract the ensemble statistics (Mean, Min, Max, P10, P90)
for a set of simulation summary vectors (column key).</p>
<p>Compared to the agg() function, this function only works on summary
data (time series), and will only operate on actually requested data,
independent of what is internalized. It accesses the summary files
directly and can thus obtain data at any time frequency.</p>
<p>In a virtual ensemble, this function can only provide data it has
internalized. There is no resampling functionality yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_keys</strong> – list of column key wildcards. Defaults
to match all available columns</p></li>
<li><p><strong>time_index</strong> – list of DateTime if interpolation is wanted
default is None, which returns the raw Eclipse report times
If a string is supplied, that string is attempted used
via get_smry_dates() in order to obtain a time index.</p></li>
<li><p><strong>quantiles</strong> – list of ints between 0 and 100 for which quantiles
to compute. Quantiles follow scientific standard,
for the oil industry p10 you should ask for p90.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A MultiIndex dataframe. Outer index is ‘minimum’, ‘maximum’,
‘mean’, ‘p10’, ‘p90’, inner index are the dates. Column names
are the different vectors. The column ‘p10’ represent the
scientific p10, not the oil industry p10 for which you
have to ask for p90.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.get_volumetric_rates">
<span class="sig-name descname"><span class="pre">get_volumetric_rates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monthly'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.get_volumetric_rates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.get_volumetric_rates" title="Link to this definition"></a></dt>
<dd><p>Compute volumetric rates from internalized cumulative summary
vectors</p>
<p>Column names that are not referring to cumulative summary
vectors are silently ignored.</p>
<p>A Dataframe is returned with volumetric rates, that is rate
values that can be summed up to the cumulative version. The
‘T’ in the column name is switched with ‘R’. If you ask for
FOPT, you will get FOPR in the returned dataframe.</p>
<p>Rates in the returned dataframe are valid <strong>forwards</strong> in time,
opposed to rates coming directly from the Eclipse simulator which
are valid backwards in time.</p>
<p>If time_unit is set, the rates will be scaled to represent
either daily, monthly or yearly rates. These will sum up to the
cumulative as long as you multiply with the correct number
of days, months or year between each consecutive date index.
Month lengths and leap years are correctly handled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_keys</strong> – str or list of strings, cumulative summary vectors</p></li>
<li><p><strong>time_index</strong> – str or list of datetimes</p></li>
<li><p><strong>time_unit</strong> – str or None. If None, the rates returned will
be the difference in cumulative between each included
time step (where the time interval can vary arbitrarily)
If set to ‘days’, ‘months’ or ‘years’, the rates will
be scaled to represent a daily, monthly or yearly rate that
is compatible with the date index and the cumulative data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.get_smry_meta">
<span class="sig-name descname"><span class="pre">get_smry_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualensemble.html#VirtualEnsemble.get_smry_meta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.get_smry_meta" title="Link to this definition"></a></dt>
<dd><p>Provide metadata for summary data vectors.</p>
<p>A dictionary indexed by summary vector names is returned, and each
value is another dictionary with potentially the following metadata types:
* unit (string)
* is_total (bool)
* is_rate (bool)
* is_historical (bool)
* get_num (int) (only provided if not None)
* keyword (str)
* wgname (str or None)</p>
<p>This data is produced from loaded summary dataframes upon ensemble
virtualization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>column_keys</strong> (<em>list</em><em> or </em><em>str</em>) – Column key wildcards.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dict of dict with metadata.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.files">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">files</span></span><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.files" title="Link to this definition"></a></dt>
<dd><p>Access the list of internalized files as they came from
a ScratchEnsemble. Might be empty</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Dataframe. Empty if no files are meaningful</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.manifest">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">manifest</span></span><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.manifest" title="Link to this definition"></a></dt>
<dd><p>Get the manifest of the ensemble. The manifest
is nothing but a dictionary with unspecified content</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.parameters">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parameters</span></span><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.parameters" title="Link to this definition"></a></dt>
<dd><p>Quick access to parameters</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.virtualensemble.VirtualEnsemble.name">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#fmu.ensemble.virtualensemble.VirtualEnsemble.name" title="Link to this definition"></a></dt>
<dd><p>The name of the virtual ensemble as set during initialization</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-fmu.ensemble.virtualrealization">
<span id="fmu-ensemble-virtualrealization-module"></span><h2>fmu.ensemble.virtualrealization module<a class="headerlink" href="#module-fmu.ensemble.virtualrealization" title="Link to this heading"></a></h2>
<p>Contains the VirtualRealization class</p>
<dl class="py class">
<dt class="sig sig-object py" id="fmu.ensemble.virtualrealization.VirtualRealization">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmu.ensemble.virtualrealization.</span></span><span class="sig-name descname"><span class="pre">VirtualRealization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">longdescription</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualrealization.html#VirtualRealization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualrealization.VirtualRealization" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A computed or archived realization.</p>
<p>Computed or archived, one cannot assume to have access to the file
system containing original data.</p>
<p>Datatables that in a ScratchRealization was available through the
files dataframe, is now available as dataframes in a dict accessed
by the localpath in the files dataframe from ScratchRealization-</p>
<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualrealization.VirtualRealization.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualrealization.html#VirtualRealization.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualrealization.VirtualRealization.keys" title="Link to this definition"></a></dt>
<dd><p>Return the keys of all data in internal datastore</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualrealization.VirtualRealization.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualrealization.html#VirtualRealization.append"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualrealization.VirtualRealization.append" title="Link to this definition"></a></dt>
<dd><p>Append data to the datastore.</p>
<p>No checks performed on the dataframe coming in. If key exists,
nothing will be appended unless overwrite is set to True</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualrealization.VirtualRealization.to_disk">
<span class="sig-name descname"><span class="pre">to_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filesystempath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualrealization.html#VirtualRealization.to_disk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualrealization.VirtualRealization.to_disk" title="Link to this definition"></a></dt>
<dd><p>Write the virtual realization to the filesystem.</p>
<p>All data will be dumped to the requested directory according
to their localpaths (keys).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filesystempath</strong> – string with a directory, absolute or
relative. If it exists already, it must be empty,
otherwise we give up.</p></li>
<li><p><strong>delete</strong> – boolean, if True, existing directory at the filesystempath
will be deleted before export.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualrealization.VirtualRealization.load_disk">
<span class="sig-name descname"><span class="pre">load_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filesystempath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualrealization.html#VirtualRealization.load_disk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualrealization.VirtualRealization.load_disk" title="Link to this definition"></a></dt>
<dd><p>Load data for a virtual realization from disk.</p>
<p>Existing data in the current object will be wiped,
this function is intended for initialization</p>
<p>WARNING: This code is really shaky. We need metafiles written
by to_json() for robust parsing of files on disk, f.ex. are
txt files really key-value data (dicts) or csv files?</p>
<p>Currently, the file format is guessed based on the contents
of the two first lines:
* CSV files contains commas, and more than one line
* key-value files contains two space-separated values, and at least one line
* scalar files contain only one item and one line</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filesystempath</strong> – path to a directory that to_disk() has
written to (or a really careful user)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualrealization.VirtualRealization.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualrealization.html#VirtualRealization.to_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualrealization.VirtualRealization.to_json" title="Link to this definition"></a></dt>
<dd><p>Dump realization data to json.</p>
<p>Resulting json string is compatible with the
accompanying load_json() function</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualrealization.VirtualRealization.get_df">
<span class="sig-name descname"><span class="pre">get_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualrealization.html#VirtualRealization.get_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualrealization.VirtualRealization.get_df" title="Link to this definition"></a></dt>
<dd><p>Access the internal datastore which contains dataframes, dicts
or scalars.</p>
<p>The localpath argument can be shortened, as it will be
looked up using the function shortcut2path()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localpath</strong> (<em>str</em>) – the identifier of the data requested</p></li>
<li><p><strong>merge</strong> (<em>list</em><em> or </em><em>str</em>) – refer to additional localpath(s) which
will be merged into the dataframe.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dataframe, dictionary, float, str or integer</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError if data is not found.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualrealization.VirtualRealization.get_volumetric_rates">
<span class="sig-name descname"><span class="pre">get_volumetric_rates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualrealization.html#VirtualRealization.get_volumetric_rates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualrealization.VirtualRealization.get_volumetric_rates" title="Link to this definition"></a></dt>
<dd><p>Compute volumetric rates from cumulative summary vectors</p>
<p>See <code class="xref py py-meth docutils literal notranslate"><span class="pre">fmu.ensemble.util.compute_volumetric_rates()</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualrealization.VirtualRealization.get_smry">
<span class="sig-name descname"><span class="pre">get_smry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monthly'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualrealization.html#VirtualRealization.get_smry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualrealization.VirtualRealization.get_smry" title="Link to this definition"></a></dt>
<dd><p>Analog function to get_smry() in ScratchRealization</p>
<p>Accesses the internalized summary data and performs
interpolation if needed.</p>
<p>Returns data for those columns that are known, unknown
columns will be issued a warning for.</p>
<p>BUG: If some columns are available only in certain dataframes,
we might miss them (e.g. we ask for yearly FOPT, and we have
yearly smry with only WOPT data, and FOPT is only in daily
smry). Resolution is perhaps to merge all relevant data
upfront.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_keys</strong> – str or list of str with column names,
may contain wildcards (glob-style). Default is
to match every key that is known (contrary to
behaviour in a ScratchRealization)</p></li>
<li><p><strong>time_index</strong> – str or list of datetimes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualrealization.VirtualRealization.get_smry_dates">
<span class="sig-name descname"><span class="pre">get_smry_dates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monthly'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualrealization.html#VirtualRealization.get_smry_dates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualrealization.VirtualRealization.get_smry_dates" title="Link to this definition"></a></dt>
<dd><p>Return list of datetimes available in the realization</p>
<p>Similar to the function in ScratchRealization,
but start and end date is taken from internalized
smry dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>freq</strong> – string denoting requested frequency for
the list of datetimes.
‘daily’, ‘monthly’, ‘yearly’ or ‘weekly’
‘first’ will give out the first date (minimum) and
‘last’ will give out the last date (maximum),
both as lists with one element.</p></li>
<li><p><strong>normalize</strong> – Whether to normalize backwards at the start
and forwards at the end to ensure the entire
date range is covered.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of datetimes. Empty if no summary data is available.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.ensemble.virtualrealization.VirtualRealization.get_smry_meta">
<span class="sig-name descname"><span class="pre">get_smry_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualrealization.html#VirtualRealization.get_smry_meta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualrealization.VirtualRealization.get_smry_meta" title="Link to this definition"></a></dt>
<dd><p>Provide metadata for summary data vectors.</p>
<p>A dictionary indexed by summary vector names is returned, and each
value is another dictionary with potentially the following metadata types:
* unit (string)
* is_total (bool)
* is_rate (bool)
* is_historical (bool)
* get_num (int) (only provided if not None)
* keyword (str)
* wgname (str or None)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>column_keys</strong> (<em>list</em><em> or </em><em>str</em>) – Column key wildcards.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dict of dict with metadata information</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.virtualrealization.VirtualRealization.parameters">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parameters</span></span><a class="headerlink" href="#fmu.ensemble.virtualrealization.VirtualRealization.parameters" title="Link to this definition"></a></dt>
<dd><p>Convenience getter for parameters.txt</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.ensemble.virtualrealization.VirtualRealization.name">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#fmu.ensemble.virtualrealization.VirtualRealization.name" title="Link to this definition"></a></dt>
<dd><p>Return name of ensemble</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.ensemble.virtualrealization.smry_cumulative">
<span class="sig-prename descclassname"><span class="pre">fmu.ensemble.virtualrealization.</span></span><span class="sig-name descname"><span class="pre">smry_cumulative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_keys</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/ensemble/virtualrealization.html#smry_cumulative"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.ensemble.virtualrealization.smry_cumulative" title="Link to this definition"></a></dt>
<dd><p>Determine whether smry vectors are cumulative</p>
<p>Returns list of booleans, indicating whether a certain
column_key in summary dataframes corresponds to a cumulative
column.</p>
<p>The current implementation checks for the letter ‘T’ in the
column key, but this behaviour is not guaranteed in the
future, in case the cumulative information gets internalized</p>
<p>Warning: This code is duplicated in realization.py, even though
a ScratchRealization has access to the EclSum object which can
give the true answer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>column_keys</strong> – str or list of strings with summary vector
names</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>list of booleans, corresponding to each inputted</dt><dd><p>summary vector name.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fmu.ensemble">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-fmu.ensemble" title="Link to this heading"></a></h2>
<p>Top-level package for fmu.ensemble</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="fmu.html" class="btn btn-neutral float-left" title="fmu package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="fmu.ensemble.util.html" class="btn btn-neutral float-right" title="fmu.ensemble.util package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Equinor.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #ff1243;
    }
    /* Sidebar */
    .wy-nav-side {
      background: #474747;
    }
    .wy-side-nav-search > div.version {
      color: white;
￼   }
  </style>


</body>
</html>